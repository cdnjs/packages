window.Modernizr=function(e,t,n){function i(e){p.cssText=e}function o(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var i in e){var o=e[i];if(!r(o,"-")&&p[o]!==n)return"pfx"!=t||o}return!1}function s(e,t,i){for(var r in e){var a=t[e[r]];if(a!==n)return!1===i?e[r]:o(a,"function")?a.bind(i||t):a}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+y.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?a(r,t):s(r=(e+" "+b.join(i+" ")+i).split(" "),t,n)}var c,u,d={},f=t.documentElement,m="modernizr",h=t.createElement(m),p=h.style,g=t.createElement("input"),v={}.toString,w=" -webkit- -moz- -o- -ms- ".split(" "),_="Webkit Moz O ms",y=_.split(" "),b=_.toLowerCase().split(" "),x="http://www.w3.org/2000/svg",S={},I={},T=[],C=T.slice,E=function(e,n,i,o){var r,a,s,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(i,10))for(;i--;)(s=t.createElement("div")).id=o?o[i]:m+(i+1),c.appendChild(s);return r=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),c.id=m,(u?c:d).innerHTML+=r,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=f.style.overflow,f.style.overflow="hidden",f.appendChild(d)),a=n(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),f.style.overflow=l),!!a},k={}.hasOwnProperty;for(var F in u=o(k,"undefined")||o(k.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=C.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=t.prototype;var r=new o,a=t.apply(r,n.concat(C.call(arguments)));return Object(a)===a?a:r}return t.apply(e,n.concat(C.call(arguments)))};return i}),S.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:E(["@media (",w.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(e){n=9===e.offsetTop})),n},S.geolocation=function(){return"geolocation"in navigator},S.cssanimations=function(){return l("animationName")},S.csstransforms=function(){return!!l("transform")},S.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in f.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight})),e},S.csstransitions=function(){return l("transition")},S.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(e){return!1}},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS(x,"svg").createSVGRect},S.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(v.call(t.createElementNS(x,"clipPath")))},S)u(S,F)&&(c=F.toLowerCase(),d[c]=S[F](),T.push((d[c]?"":"no-")+c));return d.input||(d.input=function(n){for(var i=0,o=n.length;i<o;i++)I[n[i]]=n[i]in g;return I.list&&(I.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "))),d.addTest=function(e,t){if("object"==typeof e)for(var i in e)u(e,i)&&d.addTest(i,e[i]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,f.className+=" "+(t?"":"no-")+e,d[e]=t}return d},i(""),h=g=null,function(e,t){function n(){var e=h.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=m[e[d]];return t||(t={},f++,e[d]=f,m[f]=t),t}function o(e,n,o){return n||(n=t),s?n.createElement(e):(o||(o=i(n)),!(r=o.cache[e]?o.cache[e].cloneNode():u.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e)).canHaveChildren||c.test(e)||r.tagUrn?r:o.frag.appendChild(r));var r}function r(e){e||(e=t);var r=i(e);return h.shivCSS&&!a&&!r.hasCSS&&(r.hasCSS=!!function(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),s||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return h.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(h,t.frag)}(e,r),e}var a,s,l=e.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,u=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",f=0,m={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",a="hidden"in e,s=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){a=!0,s=!0}}();var h={elements:l.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==l.shivCSS,supportsUnknownElements:s,shivMethods:!1!==l.shivMethods,type:"default",shivDocument:r,createElement:o,createDocumentFragment:function(e,o){if(e||(e=t),s)return e.createDocumentFragment();for(var r=(o=o||i(e)).frag.cloneNode(),a=0,l=n(),c=l.length;a<c;a++)r.createElement(l[a]);return r}};e.html5=h,r(t)}(this,t),d._version="2.8.2",d._prefixes=w,d._domPrefixes=b,d._cssomPrefixes=y,d.testProp=function(e){return a([e])},d.testAllProps=l,d.testStyles=E,d.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+T.join(" "),d}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==g.call(e)}function o(e){return"string"==typeof e}function r(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();w=1,e?e.t?h((function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)}),0):(e(),s()):w=0}function l(e,n,i,o,r,l,c){function u(t){if(!m&&a(d.readyState)&&(_.r=m=1,!w&&s(),d.onload=d.onreadystatechange=null,t))for(var i in"img"!=e&&h((function(){b.removeChild(d)}),50),C[n])C[n].hasOwnProperty(i)&&C[n][i].onload()}c=c||f.errorTimeout;var d=t.createElement(e),m=0,g=0,_={t:i,s:n,e:r,a:l,x:c};1===C[n]&&(g=1,C[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,g)},v.splice(o,0,_),"img"!=e&&(g||2===C[n]?(b.insertBefore(d,y?null:p),h(u,c)):C[n].push(d))}function c(e,t,n,i,r){return w=0,t=t||"j",o(e)?l("c"==t?S:x,e,t,this.i++,n,i,r):(v.splice(this.i++,0,e),1==v.length&&s()),this}function u(){var e=f;return e.loader={load:c,i:0},e}var d,f,m=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],g={}.toString,v=[],w=0,_="MozAppearance"in m.style,y=_&&!!t.createRange().compareNode,b=y?m:p.parentNode,x=(m=e.opera&&"[object Opera]"==g.call(e.opera),m=!!t.attachEvent&&!m,_?"object":m?"script":"img"),S=m?"script":x,I=Array.isArray||function(e){return"[object Array]"==g.call(e)},T=[],C={},E={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};(f=function(e){function t(e,t,n,o,r){var a=function(e){e=e.split("!");var t,n,i,o=T.length,r=e.pop(),a=e.length;for(r={url:r,origUrl:r,prefixes:e},n=0;n<a;n++)i=e[n].split("="),(t=E[i.shift()])&&(r=t(r,i));for(n=0;n<o;n++)r=T[n](r);return r}(e),s=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(t&&(t=i(t)?t:t[e]||t[o]||t[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,t,n,o,r):(C[a.url]?a.noexec=!0:C[a.url]=1,n.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":void 0,a.noexec,a.attrs,a.timeout),(i(t)||i(s))&&n.load((function(){u(),t&&t(a.origUrl,r,o),s&&s(a.origUrl,r,o),C[a.url]=2}))))}function n(e,n){function a(e,r){if(e){if(o(e))r||(d=function(){var e=[].slice.call(arguments);f.apply(this,e),m()}),t(e,d,n,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!r&&!--s&&(i(d)?d=function(){var e=[].slice.call(arguments);f.apply(this,e),m()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),m()}}(f[l])),t(e[l],d,n,l,c))}else!r&&m()}var s,l,c=!!e.test,u=e.load||e.both,d=e.callback||r,f=d,m=e.complete||r;a(c?e.yep:e.nope,!!u),u&&a(u)}var a,s,l=this.yepnope.loader;if(o(e))t(e,0,l,0);else if(I(e))for(a=0;a<e.length;a++)o(s=e[a])?t(s,0,l,0):I(s)?f(s):Object(s)===s&&n(s,l);else Object(e)===e&&n(e,l)}).addPrefix=function(e,t){E[e]=t},f.addFilter=function(e){T.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,o,l,c){var u,d,m=t.createElement("script");o=o||f.errorTimeout;for(d in m.src=e,i)m.setAttribute(d,i[d]);n=c?s:n||r,m.onreadystatechange=m.onload=function(){!u&&a(m.readyState)&&(u=1,n(),m.onload=m.onreadystatechange=null)},h((function(){u||(u=1,n(1))}),o),l?m.onload():p.parentNode.insertBefore(m,p)},e.yepnope.injectCss=function(e,n,i,o,a,l){var c;o=t.createElement("link"),n=l?s:n||r;for(c in o.href=e,o.rel="stylesheet",o.type="text/css",i)o.setAttribute(c,i[c]);a||(p.parentNode.insertBefore(o,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t){t.formvalidationapi=!1,t.formvalidationmessage=!1,t.addTest("formvalidation",(function(){var n=e.createElement("form");if("checkValidity"in n&&"addEventListener"in n){if("reportValidity"in n)return!0;var i,o=!1;return t.formvalidationapi=!0,n.addEventListener("submit",(function(e){window.opera||e.preventDefault(),e.stopPropagation()}),!1),n.innerHTML='<input name="modTest" required><button></button>',t.testStyles("#modernizr form{position:absolute;top:-99999em}",(function(e){e.appendChild(n),(i=n.getElementsByTagName("input")[0]).addEventListener("invalid",(function(e){o=!0,e.preventDefault(),e.stopPropagation()}),!1),t.formvalidationmessage=!!i.validationMessage,n.getElementsByTagName("button")[0].click()})),o}return!1}))}(document,window.Modernizr),function(e){"use strict";function t(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function n(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return G+"["+X+"] "+e}function r(e){Y&&"object"==typeof window.console&&console.log(o(e))}function a(e){"object"==typeof window.console&&console.warn(o(e))}function s(){(function(){function t(e){return"true"===e}var n=U.substr(Q).split(":");X=n[0],L=e!==n[1]?Number(n[1]):L,N=e!==n[2]?t(n[2]):N,Y=e!==n[3]?t(n[3]):Y,K=e!==n[4]?Number(n[4]):K,F=e!==n[6]?t(n[6]):F,A=n[7],j=e!==n[8]?n[8]:j,O=n[9],D=n[10],ie=e!==n[11]?Number(n[11]):ie,Z.enable=e!==n[12]&&t(n[12]),$=e!==n[13]?n[13]:$,ce=e!==n[14]?n[14]:ce})(),r("Initialising iFrame ("+location.href+")"),function(){function e(e,t){return"function"==typeof e&&(r("Setup custom "+t+"CalcMethod"),he[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(function(){var e=window.iFrameResizer;r("Reading data from page: "+JSON.stringify(e)),de="messageCallback"in e?e.messageCallback:de,fe="readyCallback"in e?e.readyCallback:fe,ne="targetOrigin"in e?e.targetOrigin:ne,j="heightCalculationMethod"in e?e.heightCalculationMethod:j,ce="widthCalculationMethod"in e?e.widthCalculationMethod:ce}(),j=e(j,"height"),ce=e(ce,"width")),r("TargetOrigin for parent set to: "+ne)}(),e===A&&(A=L+"px"),l("margin",function(e,t){return-1!==t.indexOf("-")&&(a("Negative CSS value ignored for "+e),t=""),t}("margin",A)),l("background",O),l("padding",D),function(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",document.body.appendChild(e)}(),f(),m(),document.documentElement.style.height="",document.body.style.height="",r('HTML & body height set to "auto"'),r("Enable public methods"),ue.parentIFrame={autoResize:function(e){return!0===e&&!1===F?(F=!0,h()):!1===e&&!0===F&&(F=!1,p()),F},close:function(){E(0,0,"close"),r("Disable outgoing messages"),ee=!1,r("Remove event listener: Message"),n(window,"message",k),!0===F&&p()},getId:function(){return X},getPageInfo:function(e){"function"==typeof e?(me=e,E(0,0,"pageInfo")):(me=function(){},E(0,0,"pageInfoStop"))},moveToAnchor:function(e){Z.findTarget(e)},reset:function(){C("parentIFrame.reset")},scrollTo:function(e,t){E(t,e,"scrollTo")},scrollToOffset:function(e,t){E(t,e,"scrollToOffset")},sendMessage:function(e,t){E(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){j=e,f()},setWidthCalculationMethod:function(e){ce=e,m()},setTargetOrigin:function(e){r("Set targetOrigin: "+e),ne=e},size:function(e,t){S("size","parentIFrame.size("+(e||"")+(t?","+t:"")+")",e,t)}},h(),Z=function(){function n(){return{x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}}function i(e){var t=e.getBoundingClientRect(),i=n();return{x:parseInt(t.left,10)+parseInt(i.x,10),y:parseInt(t.top,10)+parseInt(i.y,10)}}function o(t){var n=t.split("#")[1]||t,o=decodeURIComponent(n),a=document.getElementById(o)||document.getElementsByName(o)[0];e!==a?function(e){var t=i(e);r("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),E(t.y,t.x,"scrollToOffset")}(a):(r("In page link (#"+n+") not found in iFrame, so sending to parent"),E(0,0,"inPageLink","#"+n))}function s(){""!==location.hash&&"#"!==location.hash&&o(location.href)}return Z.enable?Array.prototype.forEach&&document.querySelectorAll?(r("Setting up location.hash handlers"),Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),(function(e){"#"!==e.getAttribute("href")&&t(e,"click",(function(e){e.preventDefault(),o(this.getAttribute("href"))}))})),t(window,"hashchange",s),setTimeout(s,P)):a("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):r("In page linking not enabled"),{findTarget:o}}(),S("init","Init message from host page"),fe()}function l(t,n){e!==n&&""!==n&&"null"!==n&&(document.body.style[t]=n,r("Body "+t+' set to "'+n+'"'))}function c(e){var o={add:function(n){function i(){S(e.eventName,e.eventType)}pe[n]=i,t(window,n,i)},remove:function(e){var t=pe[e];delete pe[e],n(window,e,t)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(o[e.method])):o[e.method](e.eventName),r(i(e.method)+" event listener: "+e.eventType)}function u(e){c({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),c({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),c({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),c({method:e,eventType:"Input",eventName:"input"}),c({method:e,eventType:"Mouse Up",eventName:"mouseup"}),c({method:e,eventType:"Mouse Down",eventName:"mousedown"}),c({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),c({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),c({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),c({method:e,eventType:"Touch Start",eventName:"touchstart"}),c({method:e,eventType:"Touch End",eventName:"touchend"}),c({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),c({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),c({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),c({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===$&&c({method:e,eventType:"IFrame Resized",eventName:"resize"})}function d(e,t,n,i){return t!==e&&(e in n||(a(e+" is not a valid option for "+i+"CalculationMethod."),e=t),r(i+' calculation method set to "'+e+'"')),e}function f(){j=d(j,W,ve,"height")}function m(){ce=d(ce,le,we,"width")}function h(){!0===F?(u("add"),function(){var e=0>K;window.MutationObserver||window.WebKitMutationObserver?e?g():z=v():(r("MutationObserver not supported in this browser!"),g())}()):r("Auto Resize disabled")}function p(){u("remove"),null!==z&&z.disconnect(),clearInterval(V)}function g(){0!==K&&(r("setInterval: "+K+"ms"),V=setInterval((function(){S("interval","setInterval: "+K)}),Math.abs(K)))}function v(){function t(e){function t(e){!1===e.complete&&(r("Attach listeners to "+e.src),e.addEventListener("load",o,!1),e.addEventListener("error",a,!1),l.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){r("Remove listeners from "+e.src),e.removeEventListener("load",o,!1),e.removeEventListener("error",a,!1),function(e){l.splice(l.indexOf(e),1)}(e)}function i(t,i,o){n(t.target),S(i,o+": "+t.target.src,e,e)}function o(e){i(e,"imageLoad","Image loaded")}function a(e){i(e,"imageLoadFailed","Image load failed")}function s(e){S("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var l=[],c=window.MutationObserver||window.WebKitMutationObserver,u=function(){var e=document.querySelector("body");return u=new c(s),r("Create body MutationObserver"),u.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),u}();return{disconnect:function(){"disconnect"in u&&(r("Disconnect body MutationObserver"),u.disconnect(),l.forEach(n))}}}function w(e,t){var n=0;return t=t||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?n=null!==(n=document.defaultView.getComputedStyle(t,null))?n[e]:0:n=function(e){if(/^\d+(px)?$/i.test(e))return parseInt(e,M);var n=t.style.left,i=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft,t.style.left=n,t.runtimeStyle.left=i,e}(t.currentStyle[e]),parseInt(n,M)}function _(e,t){for(var n=t.length,o=0,a=0,s=i(e),l=ge(),c=0;n>c;c++)(o=t[c].getBoundingClientRect()[e]+w("margin"+s,t[c]))>a&&(a=o);return l=ge()-l,r("Parsed "+n+" HTML elements"),r("Element position calculated in "+l+"ms"),function(e){e>ae/2&&r("Event throttle increased to "+(ae=2*e)+"ms")}(l),a}function y(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function b(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(a("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),_(e,n)}function x(){return document.querySelectorAll("body *")}function S(e,t,n,i){oe&&e in R?r("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||r("Trigger event: "+t),_e(e,t,n,i))}function I(){oe||(oe=!0,r("Trigger event lock on")),clearTimeout(re),re=setTimeout((function(){oe=!1,r("Trigger event lock off"),r("--")}),P)}function T(e){B=ve[j](),se=we[ce](),E(B,se,e)}function C(e){var t=j;j=W,r("Reset trigger event: "+e),I(),T("reset"),j=t}function E(t,n,i,o,a){!0===ee&&(e===a?a=ne:r("Message targetOrigin: "+a),function(){var s=X+":"+(t+":"+n)+":"+i+(e!==o?":"+o:"");r("Sending message to host page ("+s+")"),te.postMessage(G+s,a)}())}function k(e){function n(){return e.data.split("]")[1].split(":")[0]}function i(){return e.data.substr(e.data.indexOf(":")+1)}function o(){return e.data.split(":")[2]in{true:1,false:1}}function l(){var t=n();t in c?c[t]():("undefined"==typeof module||!module.exports)&&"iFrameResize"in window||o()||a("Unexpected message ("+e.data+")")}var c={init:function(){document.body?(U=e.data,te=e.source,s(),H=!1,setTimeout((function(){q=!1}),P)):(r("Waiting for page ready"),t(window,"readystatechange",c.initFromParent))},reset:function(){q?r("Page reset ignored by init"):(r("Page size reset by host page"),T("resetPage"))},resize:function(){S("resizeParent","Parent window requested size check")},moveToAnchor:function(){Z.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=i();r("PageInfoFromParent called from parent: "+e),me(JSON.parse(e)),r(" --")},message:function(){var e=i();r("MessageCallback called from parent: "+e),de(JSON.parse(e)),r(" --")}};G===(""+e.data).substr(0,Q)&&(!1===H?l():o()?c.init():r('Ignored message of type "'+n()+'". Received before initialization.'))}if("undefined"!=typeof window){var F=!0,M=10,O="",L=0,A="",z=null,D="",N=!1,R={resize:1,click:1},P=128,H=!0,B=1,W="bodyOffset",j=W,q=!0,U="",Z={},K=32,V=null,Y=!1,G="[iFrameSizer]",Q=G.length,X="",J={max:1,min:1,bodyScroll:1,documentElementScroll:1},$="child",ee=!0,te=window.parent,ne="*",ie=0,oe=!1,re=null,ae=16,se=1,le="scroll",ce=le,ue=window,de=function(){a("MessageCallback function not defined")},fe=function(){},me=function(){},he={height:function(){return a("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return a("Custom width calculation function not defined"),document.body.scrollWidth}},pe={},ge=Date.now||function(){return(new Date).getTime()},ve={bodyOffset:function(){return document.body.offsetHeight+w("marginTop")+w("marginBottom")},offset:function(){return ve.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return he.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,y(ve))},min:function(){return Math.min.apply(null,y(ve))},grow:function(){return ve.max()},lowestElement:function(){return Math.max(ve.bodyOffset(),_("bottom",x()))},taggedElement:function(){return b("bottom","data-iframe-height")}},we={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return he.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(we.bodyScroll(),we.documentElementScroll())},max:function(){return Math.max.apply(null,y(we))},min:function(){return Math.min.apply(null,y(we))},rightMostElement:function(){return _("right",x())},taggedElement:function(){return b("right","data-iframe-width")}},_e=function(e){var t,n,i,o=null,r=0,a=function(){r=ge(),o=null,i=e.apply(t,n),o||(t=n=null)};return function(){var s=ge();r||(r=s);var l=ae-(s-r);return t=this,n=arguments,0>=l||l>ae?(o&&(clearTimeout(o),o=null),r=s,i=e.apply(t,n),o||(t=n=null)):o||(o=setTimeout(a,l)),i}}((function(t,n,i,o){var a,s;!function(){function t(e,t){return!(Math.abs(e-t)<=ie)}return a=e!==i?i:ve[j](),s=e!==o?o:we[ce](),t(B,a)||N&&t(se,s)}()&&"init"!==t?!(t in{init:1,interval:1,size:1})&&(j in J||N&&ce in J)?C(n):t in{interval:1}||r("No change in size detected"):(I(),E(B=a,se=s,t))}));t(window,"message",k),"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}(),function(e){"use strict";function t(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function n(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function i(e){return O+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function o(e){return N[e]?N[e].log:k}function r(e,t){l("log",e,t,o(e))}function a(e,t){l("info",e,t,o(e))}function s(e,t){l("warn",e,t,!0)}function l(e,t,n,o){!0===o&&"object"==typeof window.console&&console[e](i(t),n)}function c(e){function i(){o("Height"),o("Width"),v((function(){g(C),m(E),I("resizedCallback",C)}),C,"init")}function o(e){var t=Number(N[E]["max"+e]),n=Number(N[E]["min"+e]),i=e.toLowerCase(),o=Number(C[i]);r(E,"Checking "+i+" is in range "+n+"-"+t),n>o&&(o=n,r(E,"Set "+i+" to min value")),o>t&&(o=t,r(E,"Set "+i+" to max value")),C[i]=""+o}function l(e){return T.substr(T.indexOf(":")+M+e)}function c(e,t){b((function(){w("Send Page Info","pageInfo:"+function(){var e=document.body.getBoundingClientRect(),t=C.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}(),e,t)}),32)}function y(e){var t=e.getBoundingClientRect();return f(E),{x:Math.floor(Number(t.left)+Number(A.x)),y:Math.floor(Number(t.top)+Number(A.y))}}function x(e){var t=e?y(C.iframe):{x:0,y:0},n={x:Number(C.width)+t.x,y:Number(C.height)+t.y};r(E,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):s(E,"Unable to scroll to requested position, window.parentIFrame not found"):(A=n,S(),r(E,"--"))}function S(){!1!==I("scrollCallback",A)?m(E):h()}function I(e,t){return u(E,e,t)}var T=e.data,C={},E=null;"[iFrameResizerChild]Ready"===T?function(){for(var e in N)w("iFrame requested init",_(e),document.getElementById(e),e)}():O===(""+T).substr(0,L)&&T.substr(L).split(":")[0]in N?(C=function(){var e=T.substr(L).split(":");return{iframe:N[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}(),E=C.id,N[E].loaded=!0,!function(){var e=C.type in{true:1,false:1,undefined:1};return e&&r(E,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return N[e]||(t=!1,s(C.type+" No settings for "+e+". Message was: "+T)),t}(E)&&(r(E,"Received: "+T),function(){var e=!0;return null===C.iframe&&(s(E,"IFrame ("+C.id+") not found"),e=!1),e}()&&function(){var t=e.origin,n=N[E].checkOrigin;if(n&&""+t!="null"&&!(n.constructor===Array?function(){var e=0,i=!1;for(r(E,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===t){i=!0;break}return i}():function(){var e=N[E].remoteHost;return r(E,"Checking connection is from: "+e),t===e}()))throw new Error("Unexpected message received from: "+t+" for "+C.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(N[E].firstRun&&(N[E].firstRun=!1),C.type){case"close":d(C.iframe);break;case"message":!function(e){r(E,"MessageCallback passed: {iframe: "+C.iframe.id+", message: "+e+"}"),I("messageCallback",{iframe:C.iframe,message:JSON.parse(e)}),r(E,"--")}(l(6));break;case"scrollTo":x(!1);break;case"scrollToOffset":x(!0);break;case"pageInfo":c(N[E].iframe,E),function(){function e(e,t){function n(){N[o]?c(N[o].iframe,o):i()}["scroll","resize"].forEach((function(i){r(o,e+i+" listener for sendPageInfo"),t(window,i,n)}))}function i(){e("Remove ",n)}var o=E;e("Add ",t),N[o].stopPageInfo=i}();break;case"pageInfoStop":N[E]&&N[E].stopPageInfo&&(N[E].stopPageInfo(),delete N[E].stopPageInfo);break;case"inPageLink":!function(e){var t=e.split("#")[1]||"",n=decodeURIComponent(t),i=document.getElementById(n)||document.getElementsByName(n)[0];i?function(){var e=y(i);r(E,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),A={x:e.x,y:e.y},S(),r(E,"--")}():window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(t):r(E,"In page link #"+t+" not found and window.parentIFrame not found"):r(E,"In page link #"+t+" not found")}(l(9));break;case"reset":p(C);break;case"init":i(),I("initCallback",C.iframe);break;default:i()}}())):a(E,"Ignored: "+T)}function u(e,t,n){var i=null,o=null;if(N[e]){if("function"!=typeof(i=N[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");o=i(n)}return o}function d(e){var t=e.id;r(t,"Removing iFrame: "+t),e.parentNode&&e.parentNode.removeChild(e),u(t,"closedCallback",t),r(t,"--"),delete N[t]}function f(t){null===A&&r(t,"Get page position: "+(A={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}).x+","+A.y)}function m(e){null!==A&&(window.scrollTo(A.x,A.y),r(e,"Set page position: "+A.x+","+A.y),h())}function h(){A=null}function p(e){r(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),f(e.id),v((function(){g(e),w("reset","reset",e.iframe,e.id)}),e,"reset")}function g(e){function t(t){e.iframe.style[t]=e[t]+"px",r(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")}function n(t){F||"0"!==e[t]||(F=!0,r(o,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===N[e].iframe.style[t]}(function(e){return null!==e.offsetParent})(N[e].iframe)&&(t("height")||t("width"))&&w("Visibility change","resize",N[e].iframe,e)}for(var t in N)e(t)}function t(t){r("window","Mutation observed: "+t[0].target+" "+t[0].type),b(e,16)}var n=window.MutationObserver||window.WebKitMutationObserver;n&&function(){var e=document.querySelector("body");new n(t).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}()}())}function i(e){t(e),n(e)}var o=e.iframe.id;N[o]&&(N[o].sizeHeight&&i("height"),N[o].sizeWidth&&i("width"))}function v(e,t,n){n!==t.type&&z?(r(t.id,"Requesting animation frame"),z(e)):e()}function w(e,t,n,i,o){var a=!1;i=i||n.id,N[i]&&(n&&"contentWindow"in n&&null!==n.contentWindow?function(){var o=N[i].targetOrigin;r(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+o),n.contentWindow.postMessage(O+t,o)}():s(i,"["+e+"] IFrame("+i+") not found"),o&&N[i].warningTimeout&&(N[i].msgTimeout=setTimeout((function(){!N[i]||N[i].loaded||a||(a=!0,s(i,"IFrame has not responded within "+N[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),N[i].warningTimeout)))}function _(e){return e+":"+N[e].bodyMarginV1+":"+N[e].sizeWidth+":"+N[e].log+":"+N[e].interval+":"+N[e].enablePublicMethods+":"+N[e].autoResize+":"+N[e].bodyMargin+":"+N[e].heightCalculationMethod+":"+N[e].bodyBackground+":"+N[e].bodyPadding+":"+N[e].tolerance+":"+N[e].inPageLinks+":"+N[e].resizeFrom+":"+N[e].widthCalculationMethod}function y(n,i){var o=function(e){return e,""===e&&(n.id=e=function(){var e=i&&i.id||P.id+E++;return null!==document.getElementById(e)&&(e+=E++),e}(),k=(i||{}).log,e,r(e,"Added missing iframe ID: "+e+" ("+n.src+")")),e}(n.id);o in N&&"iFrameResizer"in n?s(o,"Ignored iFrame, already setup."):(function(e){e=e||{},N[o]={firstRun:!0,iframe:n,remoteHost:n.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(e),function(e){for(var t in P)P.hasOwnProperty(t)&&(N[o][t]=e.hasOwnProperty(t)?e[t]:P[t])}(e),N[o].targetOrigin=!0===N[o].checkOrigin?function(e){return""===e||"file://"===e?"*":e}(N[o].remoteHost):"*"}(i),function(){switch(r(o,"IFrame scrolling "+(N[o].scrolling?"enabled":"disabled")+" for "+o),n.style.overflow=!1===N[o].scrolling?"hidden":"auto",N[o].scrolling){case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=N[o].scrolling}}(),function(){function e(e){1/0!==N[o][e]&&0!==N[o][e]&&(n.style[e]=N[o][e]+"px",r(o,"Set "+e+" = "+N[o][e]+"px"))}function t(e){if(N[o]["min"+e]>N[o]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),("number"==typeof N[o].bodyMargin||"0"===N[o].bodyMargin)&&(N[o].bodyMarginV1=N[o].bodyMargin,N[o].bodyMargin=N[o].bodyMargin+"px"),function(i){t(n,"load",(function(){w("iFrame.onload",i,n,e,!0),function(){var e=N[o].firstRun,t=N[o].heightCalculationMethod in D;!e&&t&&p({iframe:n,height:0,width:0,type:"init"})}()})),w("init",i,n,e,!0)}(_(o)),Function.prototype.bind&&(N[o].iframe.iFrameResizer={close:d.bind(null,N[o].iframe),resize:w.bind(null,"Window resize","resize",N[o].iframe),moveToAnchor:function(e){w("Move to anchor","moveToAnchor:"+e,N[o].iframe,o)},sendMessage:function(e){w("Send Message","message:"+(e=JSON.stringify(e)),N[o].iframe,o)}}))}function b(e,t){null===R&&(R=setTimeout((function(){R=null,e()}),t))}function x(e){r("window","Trigger event: "+e),b((function(){I("Window "+e,"resize")}),16)}function S(){"hidden"!==document.visibilityState&&(r("document","Trigger event: Visiblity change"),b((function(){I("Tab Visable","resize")}),16))}function I(e,t){function n(e){return"parent"===N[e].resizeFrom&&N[e].autoResize&&!N[e].firstRun}for(var i in N)n(i)&&w(e,t,document.getElementById(i),i)}function T(){t(window,"message",c),t(window,"resize",(function(){x("resize")})),t(document,"visibilitychange",S),t(document,"-webkit-visibilitychange",S),t(window,"focusin",(function(){x("focus")})),t(window,"focus",(function(){x("focus")}))}function C(){function t(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),y(t,e),n.push(t))}var n;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!z;e+=1)z=window[t[e]+"RequestAnimationFrame"];z||r("setup","RequestAnimationFrame not supported")}(),T(),function(i,o){switch(n=[],function(e){e&&e.enablePublicMethods&&s("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(i),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),t.bind(e,i));break;case"object":t(i,o);break;default:throw new TypeError("Unexpected data type ("+typeof o+")")}return n}}if("undefined"!=typeof window){var E=0,k=!1,F=!1,M="message".length,O="[iFrameSizer]",L=O.length,A=null,z=window.requestAnimationFrame,D={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},N={},R=null,P={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){s("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};window.jQuery&&function(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){y(n,e)})).end()}):a("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),"function"==typeof define&&define.amd?define([],C):"object"==typeof module&&"object"==typeof module.exports?module.exports=C():window.iFrameResize=window.iFrameResize||C()}}(),
/*!
 * imagesLoaded PACKAGED v3.2.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
function(){"use strict";function e(){}var t=e.prototype,n=this,i=n.EventEmitter;function o(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function r(e){return function(){return this[e].apply(this,arguments)}}t.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e)for(n in t={},i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n]);else t=i[e]||(i[e]=[]);return t},t.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},t.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},t.addListener=function(e,t){var n,i=this.getListenersAsObject(e),r="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===o(i[n],t)&&i[n].push(r?t:{listener:t,once:!1});return this},t.on=r("addListener"),t.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},t.once=r("addOnceListener"),t.defineEvent=function(e){return this.getListeners(e),this},t.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},t.removeListener=function(e,t){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&-1!==(n=o(r[i],t))&&r[i].splice(n,1);return this},t.off=r("removeListener"),t.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},t.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},t.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):a.call(this,i,o));return this},t.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},t.removeAllListeners=r("removeEvent"),t.emitEvent=function(e,t){var n,i,o,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)!0===(n=r[o][i]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},t.trigger=r("emitEvent"),t.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},t.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},t._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=i,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return e})):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
function(e){var t=document.documentElement,n=function(){};function i(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=i(e);n.handleEvent.call(n,t)}:function(){var t=i(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var o=function(){};t.removeEventListener?o=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(o=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),
/*!
 * imagesLoaded v3.2.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],(function(n,i){return t(e,n,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,(function(e,t,n){var i=e.jQuery,o=e.console;function r(e,t){for(var n in t)e[n]=t[n];return e}var a=Object.prototype.toString;function s(e){var t=[];if(function(e){return"[object Array]"==a.call(e)}(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function l(e,t,n){if(!(this instanceof l))return new l(e,t,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=s(e),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),i&&(this.jqDeferred=new i.Deferred);var o=this;setTimeout((function(){o.check()}))}l.prototype=new t,l.prototype.options={},l.prototype.getImages=function(){this.images=[];for(var e=0;e<this.elements.length;e++){var t=this.elements[e];this.addElementImages(t)}},l.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}}};var c={1:!0,9:!0,11:!0};l.prototype.addElementBackgroundImages=function(e){for(var t=u(e),n=/url\(['"]*([^'"\)]+)['"]*\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[1];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}};var u=e.getComputedStyle||function(e){return e.currentStyle};function d(e){this.img=e}function f(e,t){this.url=e,this.element=t,this.img=new Image}return l.prototype.addImage=function(e){var t=new d(e);this.images.push(t)},l.prototype.addBackground=function(e,t){var n=new f(e,t);this.images.push(n)},l.prototype.check=function(){var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,this.images.length)for(var t=0;t<this.images.length;t++){var n=this.images[t];n.once("progress",i),n.check()}else this.complete();function i(t,n,i){setTimeout((function(){e.progress(t,n,i)}))}},l.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emit("progress",this,e,t),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&o&&o.log("progress: "+n,e,t)},l.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(e,this),this.emit("always",this),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},d.prototype=new t,d.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,n.bind(this.proxyImage,"load",this),n.bind(this.proxyImage,"error",this),n.bind(this.img,"load",this),n.bind(this.img,"error",this),this.proxyImage.src=this.img.src)},d.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},d.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("progress",this,this.img,t)},d.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},d.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},d.prototype.unbindEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this),n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},f.prototype=new d,f.prototype.check=function(){n.bind(this.img,"load",this),n.bind(this.img,"error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){n.unbind(this.img,"load",this),n.unbind(this.img,"error",this)},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("progress",this,this.element,t)},l.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((i=t).fn.imagesLoaded=function(e,t){return new l(this,e,t).jqDeferred.promise(i(this))})},l.makeJQueryPlugin(),l})),function(e){e.fn.collageCaption=function(t){var n={images:e(this).children(),background:"black",opacity:"0.8",speed:100,cssClass:"Caption"},i=e.extend({},n,t);return this.each((function(){return i.images.each((function(t){var n=e(this);if(void 0!==n.data("caption")){var o='<div class="'+i.cssClass+'" style="position:relative;"><div class="Caption_Background" style="background-color:'+i.background+";opacity:"+i.opacity+';position:relative;top:0;"></div><div class="Caption_Content" style="position:relative;">'+n.data("caption")+"</div></div>";n.append(o);var r=n.find("."+i.cssClass),a=n.find(".Caption_Background"),s=n.find(".Caption_Content"),l=s.outerHeight();a.height(l),s.css("top","-"+l+"px"),n.bind({mouseenter:function(e){r.animate({top:-1*l},{duration:i.speed,queue:!1})},mouseleave:function(e){r.animate({top:0},{duration:i.speed,queue:!1})}})}})),this}))}}(jQuery),function(e){e.fn.collagePlus=function(t){return this.each((function(){var i=0,r=[],a=1,s=e(this);e.fn.collagePlus.defaults.albumWidth=s.width(),e.fn.collagePlus.defaults.padding=parseFloat(s.css("padding-left")),e.fn.collagePlus.defaults.images=s.children();var l=e.extend({},e.fn.collagePlus.defaults,t);l.images.each((function(t){var s=e(this),c=s.is("img")?s:e(this).find("img"),u=void 0!==c.data("width")?c.data("width"):c.width(),d=void 0!==c.data("height")?c.data("height"):c.height(),f=o(c);c.data("width",u),c.data("height",d);var m=Math.ceil(u/d*l.targetHeight),h=Math.ceil(l.targetHeight);r.push([this,m,h,f.w,f.h]),(i+=m+f.w+l.padding)>l.albumWidth&&0!=r.length&&(n(r,i-l.padding,l,a),i=0,r=[],a+=1),l.images.length-1==t&&0!=r.length&&(n(r,i,l,a),i=0,r=[],a+=1)}))}));function n(t,n,o,r){for(var a=o.padding*(t.length-1)+t.length*t[0][3],s=(o.albumWidth-a)/(n-a),l=a,c=n<o.albumWidth,u=0;u<t.length;u++){var d=e(t[u][0]),f=Math.floor(t[u][1]*s),m=Math.floor(t[u][2]*s),h=!!(u<t.length-1);!0===o.allowPartialLastRow&&!0===c&&(f=t[u][1],m=t[u][2]),l+=f,!h&&l<o.albumWidth&&(!0===o.allowPartialLastRow&&!0===c?f=f:f+=o.albumWidth-l),f--;var p=d.is("img")?d:d.find("img");p.width(f),d.is("img")||d.width(f+t[u][3]),p.height(m),d.is("img")||d.height(m+t[u][4]),i(d,h,o),p.one("load",function(e){return function(){if("default"==o.effect)e.animate({opacity:"1"},{duration:o.fadeSpeed});else{if("vertical"==o.direction)var t=r<=10?r:10;else t=u<=9?u+1:10;e.removeClass((function(e,t){return(t.match(/\beffect-\S+/g)||[]).join(" ")})),e.addClass(o.effect),e.addClass("effect-duration-"+t)}}}(d)).each((function(){this.complete&&e(this).trigger("load")}))}}function i(e,t,n){var i={"margin-bottom":n.padding+"px","margin-right":t?n.padding+"px":"0px",display:n.display,"vertical-align":"bottom",overflow:"hidden"};return e.css(i)}function o(t){$img=e(t);var n=new Array;return n.w=parseFloat($img.css("border-left-width"))+parseFloat($img.css("border-right-width")),n.h=parseFloat($img.css("border-top-width"))+parseFloat($img.css("border-bottom-width")),n}},e.fn.collagePlus.defaults={targetHeight:400,fadeSpeed:"fast",display:"inline-block",effect:"default",direction:"vertical",allowPartialLastRow:!1}}(jQuery),jQuery.fn.removeWhitespace=function(){return this.contents().filter((function(){return 3==this.nodeType&&!/\S/.test(this.nodeValue)})).remove(),this},function(e){function t(t,n){var i,o=this,r=window.navigator,a=r.userAgent.toLowerCase();o.uid=e.rsModules.uid++,o.ns=".rs"+o.uid;var s,l=document.createElement("div").style,c=["webkit","Moz","ms","O"],u="",d=0;for(i=0;i<c.length;i++)s=c[i],!u&&s+"Transform"in l&&(u=s),s=s.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[s+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s+"CancelAnimationFrame"]||window[s+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-d)),o=window.setTimeout((function(){e(n+i)}),i);return d=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),o.isIPAD=a.match(/(ipad)/),o.isIOS=o.isIPAD||a.match(/(iphone|ipod)/),c={},(i=function(e){return{browser:(e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[])[1]||"",version:e[2]||"0"}}(a)).browser&&(c[i.browser]=!0,c.version=i.version),c.chrome&&(c.webkit=!0),o._a=c,o.isAndroid=-1<a.indexOf("android"),o.slider=e(t),o.ev=e(o),o._b=e(document),o.st=e.extend({},e.fn.royalSlider.defaults,n),o._c=o.st.transitionSpeed,o._d=0,!o.st.allowCSS3||c.webkit&&!o.st.allowCSS3OnWebkit||(i=u+(u?"T":"t"),o._e=i+"ransform"in l&&i+"ransition"in l,o._e&&(o._f=u+(u?"P":"p")+"erspective"in l)),u=u.toLowerCase(),o._g="-"+u+"-",o._h="vertical"!==o.st.slidesOrientation,o._i=o._h?"left":"top",o._j=o._h?"width":"height",o._k=-1,o._l="fade"!==o.st.transitionType,o._l||(o.st.sliderDrag=!1,o._m=10),o._n="z-index:0; display:none; opacity:0;",o._o=0,o._p=0,o._q=0,e.each(e.rsModules,(function(e,t){"uid"!==e&&t.call(o)})),o.slides=[],o._r=0,(o.st.slides?e(o.st.slides):o.slider.children().detach()).each((function(){o._s(this,!0)})),o.st.randomizeSlides&&o.slides.sort((function(){return.5-Math.random()})),o.numSlides=o.slides.length,o._t(),o.st.startSlideId?o.st.startSlideId>o.numSlides-1&&(o.st.startSlideId=o.numSlides-1):o.st.startSlideId=0,o._o=o.staticSlideId=o.currSlideId=o._u=o.st.startSlideId,o.currSlide=o.slides[o.currSlideId],o._v=0,o.pointerMultitouch=!1,o.slider.addClass((o._h?"rsHor":"rsVer")+(o._l?"":" rsFade")),l='<div class="rsOverflow"><div class="rsContainer">',o.slidesSpacing=o.st.slidesSpacing,o._w=(o._h?o.slider.width():o.slider.height())+o.st.slidesSpacing,o._x=Boolean(0<o._y),1>=o.numSlides&&(o._z=!1),o._a1=o._z&&o._l?2===o.numSlides?1:2:0,o._b1=6>o.numSlides?o.numSlides:6,o._c1=0,o._d1=0,o.slidesJQ=[];for(i=0;i<o.numSlides;i++)o.slidesJQ.push(e('<div style="'+(o._l?"":i!==o.currSlideId?o._n:"z-index:0;")+'" class="rsSlide "></div>'));o._e1=l=e(l+"</div></div>");var f,m=o.ns;u=function(e,t,n,i,r){o._j1=e+t+m,o._k1=e+n+m,o._l1=e+i+m,r&&(o._m1=e+r+m)};i=r.pointerEnabled,o.pointerEnabled=i||r.msPointerEnabled,o.pointerEnabled?(o.hasTouch=!1,o._n1=.2,o.pointerMultitouch=Boolean(1<r[(i?"m":"msM")+"axTouchPoints"]),i?u("pointer","down","move","up","cancel"):u("MSPointer","Down","Move","Up","Cancel")):(o.isIOS?o._j1=o._k1=o._l1=o._m1="":u("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(o.hasTouch=!0,o._j1+=" touchstart"+m,o._k1+=" touchmove"+m,o._l1+=" touchend"+m,o._m1+=" touchcancel"+m,o._n1=.5,o.st.sliderTouch&&(o._f1=!0)):(o.hasTouch=!1,o._n1=.2)),o.st.sliderDrag&&(o._f1=!0,c.msie||c.opera?o._g1=o._h1="move":c.mozilla?(o._g1="-moz-grab",o._h1="-moz-grabbing"):c.webkit&&-1!=r.platform.indexOf("Mac")&&(o._g1="-webkit-grab",o._h1="-webkit-grabbing"),o._i1()),o.slider.html(l),o._o1=o.st.controlsInside?o._e1:o.slider,o._p1=o._e1.children(".rsContainer"),o.pointerEnabled&&o._p1.css((i?"":"-ms-")+"touch-action",o._h?"pan-y":"pan-x"),o._q1=e('<div class="rsPreloader"></div>'),r=o._p1.children(".rsSlide"),o._r1=o.slidesJQ[o.currSlideId],o._s1=0,o._e?(o._t1="transition-property",o._u1="transition-duration",o._v1="transition-timing-function",o._w1=o._x1=o._g+"transform",o._f?(c.webkit&&!c.chrome&&o.slider.addClass("rsWebkit3d"),o._y1="translate3d(",o._z1="px, ",o._a2="px, 0px)"):(o._y1="translate(",o._z1="px, ",o._a2="px)"),o._l?o._p1[o._g+o._t1]=o._g+"transform":((c={})[o._g+o._t1]="opacity",c[o._g+o._u1]=o.st.transitionSpeed+"ms",c[o._g+o._v1]=o.st.css3easeInOut,r.css(c))):(o._x1="left",o._w1="top"),e(window).on("resize"+o.ns,(function(){f&&clearTimeout(f),f=setTimeout((function(){o.updateSliderSize()}),50)})),o.ev.trigger("rsAfterPropsSetup"),o.updateSliderSize(),o.st.keyboardNavEnabled&&o._b2(),o.st.arrowsNavHideOnTouch&&(o.hasTouch||o.pointerMultitouch)&&(o.st.arrowsNav=!1),o.st.arrowsNav&&(r=o._o1,e('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(r),o._c2=r.children(".rsArrowLeft").click((function(e){e.preventDefault(),o.prev()})),o._d2=r.children(".rsArrowRight").click((function(e){e.preventDefault(),o.next()})),o.st.arrowsNavAutoHide&&!o.hasTouch&&(o._c2.addClass("rsHidden"),o._d2.addClass("rsHidden"),r.one("mousemove.arrowshover",(function(){o._c2.removeClass("rsHidden"),o._d2.removeClass("rsHidden")})),r.hover((function(){o._e2||(o._c2.removeClass("rsHidden"),o._d2.removeClass("rsHidden"))}),(function(){o._e2||(o._c2.addClass("rsHidden"),o._d2.addClass("rsHidden"))}))),o.ev.on("rsOnUpdateNav",(function(){o._f2()})),o._f2()),o.hasTouch&&o.st.sliderTouch||!o.hasTouch&&o.st.sliderDrag?o._p1.on(o._j1,(function(e){o._g2(e)})):o.dragSuccess=!1;var h=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];o._p1.click((function(t){if(!o.dragSuccess){var n=e(t.target).attr("class");if(-1!==e.inArray(n,h)&&o.toggleVideo())return!1;if(o.st.navigateByClick&&!o._h2){if(e(t.target).closest(".rsNoDrag",o._r1).length)return!0;o._i2(t)}o.ev.trigger("rsSlideClick",t)}})).on("click.rs","a",(function(e){if(o.dragSuccess)return!1;o._h2=!0,setTimeout((function(){o._h2=!1}),3)})),o.ev.trigger("rsAfterInit")}e.rsModules||(e.rsModules={uid:0}),t.prototype={constructor:t,_i2:function(e){(e=e[this._h?"pageX":"pageY"]-this._j2)>=this._q?this.next():0>e&&this.prev()},_t:function(){var e;e=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&0<e&&(4>=this.numSlides?e=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(e=Math.floor((this.numSlides-1)/2))),this._y=e},_s:function(t,n){function i(e,t){if(t?s.images.push(e.attr(t)):s.images.push(e.text()),l){l=!1,s.caption="src"===t?e.attr("alt"):e.contents(),s.image=s.images[0],s.videoURL=e.attr("data-rsVideo");var n=e.attr("data-rsw"),i=e.attr("data-rsh");void 0!==n&&!1!==n&&void 0!==i&&!1!==i?(s.iW=parseInt(n,10),s.iH=parseInt(i,10)):a.st.imgWidth&&a.st.imgHeight&&(s.iW=a.st.imgWidth,s.iH=a.st.imgHeight)}}var o,r,a=this,s={},l=!0;if(t=e(t),a._k2=t,a.ev.trigger("rsBeforeParseNode",[t,s]),!s.stopParsing)return t=a._k2,s.id=a._r,s.contentAdded=!1,a._r++,s.images=[],s.isBig=!1,s.hasCover||(t.hasClass("rsImg")?(r=t,o=!0):(r=t.find(".rsImg")).length&&(o=!0),o?(s.bigImage=r.eq(0).attr("data-rsBigImg"),r.each((function(){var t=e(this);t.is("a")?i(t,"href"):t.is("img")?i(t,"src"):i(t)}))):t.is("img")&&(t.addClass("rsImg rsMainSlideImage"),i(t,"src"))),(r=t.find(".rsGCaption")).length&&(s.caption=r.remove()),s.content=t,a.ev.trigger("rsAfterParseNode",[t,s]),n&&a.slides.push(s),0===s.images.length&&(s.isLoaded=!0,s.isRendered=!1,s.isLoading=!1,s.images=null),s},_b2:function(){var e,t,n=this,i=function(e){37===e?n.prev():39===e&&n.next()};n._b.on("keydown"+n.ns,(function(o){if(!n.st.keyboardNavEnabled)return!0;if(!(n._l2||(t=o.keyCode,37!==t&&39!==t||e))){if(document.activeElement&&/(INPUT|SELECT|TEXTAREA)/i.test(document.activeElement.tagName))return!0;n.isFullscreen&&o.preventDefault(),i(t),e=setInterval((function(){i(t)}),700)}})).on("keyup"+n.ns,(function(t){e&&(clearInterval(e),e=null)}))},goTo:function(e,t){e!==this.currSlideId&&this._m2(e,this.st.transitionSpeed,!0,!t)},destroy:function(t){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),e.removeData(this.slider,"royalSlider"),e(window).off("resize"+this.ns),this.loadingTimeout&&clearTimeout(this.loadingTimeout),t&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(t,n){function i(n,i,a){n.isAdded?(o(i,n),r(i,n)):(a||(a=c.slidesJQ[i]),n.holder?a=n.holder:(a=c.slidesJQ[i]=e(a),n.holder=a),n.appendOnLoaded=!1,r(i,n,a),o(i,n),c._p2(n,a,t),n.isAdded=!0)}function o(e,n){n.contentAdded||(c.setItemHtml(n,t),t||(n.contentAdded=!0))}function r(e,t,n){c._l&&(n||(n=c.slidesJQ[e]),n.css(c._i,(e+c._d1+f)*c._w))}function a(e){if(u){if(e>d-1)return a(e-d);if(0>e)return a(d+e)}return e}var s,l,c=this,u=c._z,d=c.numSlides;if(!isNaN(n))return a(n);var f,m,h=c.currSlideId,p=t?Math.abs(c._o2-c.currSlideId)>=c.numSlides-1?0:1:c._y,g=Math.min(2,p),v=!1,w=!1;for(l=h;l<h+1+g;l++)if(m=a(l),(s=c.slides[m])&&(!s.isAdded||!s.positionSet)){v=!0;break}for(l=h-1;l>h-1-g;l--)if(m=a(l),(s=c.slides[m])&&(!s.isAdded||!s.positionSet)){w=!0;break}if(v)for(l=h;l<h+p+1;l++)m=a(l),f=Math.floor((c._u-(h-l))/c.numSlides)*c.numSlides,(s=c.slides[m])&&i(s,m);if(w)for(l=h-1;l>h-1-p;l--)m=a(l),f=Math.floor((c._u-(h-l))/d)*d,(s=c.slides[m])&&i(s,m);if(!t)for(p=(g=a(h-p))>(h=a(h+p))?0:g,l=0;l<d;l++)g>h&&l>g-1||!(l<p||l>h)||(s=c.slides[l])&&s.holder&&(s.holder.detach(),s.isAdded=!1)},setItemHtml:function(t,n){var i=this,o=function(){if(t.images){if(!t.isLoading){var n,o;if(t.content.hasClass("rsImg")?(n=t.content,o=!0):n=t.content.find(".rsImg:not(img)"),n&&!n.is("img")&&n.each((function(){var n=e(this),i='<img class="rsImg" src="'+(n.is("a")?n.attr("href"):n.text())+'" />';o?t.content=e(i):n.replaceWith(i)})),n=o?t.content:t.content.find("img.rsImg"),c(),n.eq(0).addClass("rsMainSlideImage"),t.iW&&t.iH&&(t.isLoaded||i._q2(t),s()),t.isLoading=!0,t.isBig)e("<img />").on("load.rs error.rs",(function(t){e(this).off("load.rs error.rs"),r([this],!0)})).attr("src",t.image);else{t.loaded=[],t.numStartedLoad=0,n=function(n){e(this).off("load.rs error.rs"),t.loaded.push(this),t.loaded.length===t.numStartedLoad&&r(t.loaded,!1)};for(var a=0;a<t.images.length;a++){var l=e("<img />");t.numStartedLoad++,l.on("load.rs error.rs",n).attr("src",t.images[a])}}}}else t.isRendered=!0,t.isLoaded=!0,t.isLoading=!1,s(!0)},r=function(e,n){if(e.length){var i=e[0];if(n!==t.isBig)(i=t.holder.children())&&1<i.length&&u();else if(t.iW&&t.iH)a();else if(t.iW=i.width,t.iH=i.height,t.iW&&t.iH)a();else{var o=new Image;o.onload=function(){o.width?(t.iW=o.width,t.iH=o.height,a()):setTimeout((function(){o.width&&(t.iW=o.width,t.iH=o.height),a()}),1e3)},o.src=i.src}}else a()},a=function(){t.isLoaded=!0,t.isLoading=!1,s(),u(),l()},s=function(){if(!t.isAppended&&i.ev){var e=i.st.visibleNearby,o=t.id-i._o;n||t.appendOnLoaded||!i.st.fadeinLoadedSlide||0!==o&&(!(e||i._r2||i._l2)||-1!==o&&1!==o)||((e={visibility:"visible",opacity:0})[i._g+"transition"]="opacity 400ms ease-in-out",t.content.css(e),setTimeout((function(){t.content.css("opacity",1)}),16)),t.holder.find(".rsPreloader").length?t.holder.append(t.content):t.holder.html(t.content),t.isAppended=!0,t.isLoaded&&(i._q2(t),l()),t.sizeReady||(t.sizeReady=!0,setTimeout((function(){i.ev.trigger("rsMaybeSizeReady",t)}),100))}},l=function(){!t.loadedTriggered&&i.ev&&(t.isLoaded=t.loadedTriggered=!0,t.holder.trigger("rsAfterContentSet"),i.ev.trigger("rsAfterContentSet",t))},c=function(){i.st.usePreloader&&t.holder.html(i._q1.clone())},u=function(e){i.st.usePreloader&&((e=t.holder.find(".rsPreloader")).length&&e.remove())};t.isLoaded?s():n?!i._l&&t.images&&t.iW&&t.iH?o():(t.holder.isWaiting=!0,c(),t.holder.slideId=-99):o()},_p2:function(e,t,n){this._p1.append(e.holder),e.appendOnLoaded=!1},_g2:function(t,n){var i,o=this,r="touchstart"===t.type;if(o._s2=r,o.ev.trigger("rsDragStart"),e(t.target).closest(".rsNoDrag",o._r1).length)return o.dragSuccess=!1,!0;if(!n&&o._r2&&(o._t2=!0,o._u2()),o.dragSuccess=!1,o._l2)r&&(o._v2=!0);else{if(r&&(o._v2=!1),o._w2(),r){var a=t.originalEvent.touches;if(!(a&&0<a.length))return;i=a[0],1<a.length&&(o._v2=!0)}else t.preventDefault(),i=t,o.pointerEnabled&&(i=i.originalEvent);o._l2=!0,o._b.on(o._k1,(function(e){o._x2(e,n)})).on(o._l1,(function(e){o._y2(e,n)})),o._z2="",o._a3=!1,o._b3=i.pageX,o._c3=i.pageY,o._d3=o._v=(n?o._e3:o._h)?i.pageX:i.pageY,o._f3=0,o._g3=0,o._h3=n?o._i3:o._p,o._j3=(new Date).getTime(),r&&o._e1.on(o._m1,(function(e){o._y2(e,n)}))}},_k3:function(e,t){if(this._l3){var n=this._m3,i=e.pageX-this._b3,o=e.pageY-this._c3,r=this._h3+i,a=this._h3+o,s=t?this._e3:this._h;r=s?r:a,a=this._z2;this._a3=!0,this._b3=e.pageX,this._c3=e.pageY,"x"===a&&0!==i?this._f3=0<i?1:-1:"y"===a&&0!==o&&(this._g3=0<o?1:-1),a=s?this._b3:this._c3,i=s?i:o,t?(r>this._n3||r<this._o3)&&(r=this._h3+i*this._n1):this._z||(0>=this.currSlideId&&0<a-this._d3&&(r=this._h3+i*this._n1),this.currSlideId>=this.numSlides-1&&0>a-this._d3&&(r=this._h3+i*this._n1)),this._h3=r,200<n-this._j3&&(this._j3=n,this._v=a),t?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(e,t){var n,i=this,o="touchmove"===e.type;if(!i._s2||o){if(o){if(i._r3)return;var r=e.originalEvent.touches;if(!r)return;if(1<r.length)return;n=r[0]}else n=e,i.pointerEnabled&&(n=n.originalEvent);if(i._a3||(i._e&&(t?i._s3:i._p1).css(i._g+i._u1,"0s"),function e(){i._l2&&(i._t3=requestAnimationFrame(e),i._u3&&i._k3(i._u3,t))}()),i._l3)e.preventDefault(),i._m3=(new Date).getTime(),i._u3=n;else if(r=t?i._e3:i._h,7<(n=Math.abs(n.pageX-i._b3)-Math.abs(n.pageY-i._c3)-(r?-7:7))){if(r)e.preventDefault(),i._z2="x";else if(o)return void i._v3(e);i._l3=!0}else if(-7>n){if(r){if(o)return void i._v3(e)}else e.preventDefault(),i._z2="y";i._l3=!0}}},_v3:function(e,t){this._r3=!0,this._a3=this._l2=!1,this._y2(e)},_y2:function(t,n){function i(e){return 100>e?100:500<e?500:e}function o(e,t){(c._l||n)&&(s=(-c._u-c._d1)*c._w,l=Math.abs(c._p-s),c._c=l/t,e&&(c._c+=250),c._c=i(c._c),c._x3(s,!1))}var r,a,s,l,c=this;if(r=-1<t.type.indexOf("touch"),!c._s2||r)if(c._s2=!1,c.ev.trigger("rsDragRelease"),c._u3=null,c._l2=!1,c._r3=!1,c._l3=!1,c._m3=0,cancelAnimationFrame(c._t3),c._a3&&(n?c._q3(c._h3):c._l&&c._p3(c._h3)),c._b.off(c._k1).off(c._l1),r&&c._e1.off(c._m1),c._i1(),!c._a3&&!c._v2&&n&&c._w3){var u=e(t.target).closest(".rsNavItem");u.length&&c.goTo(u.index())}else{if(a=n?c._e3:c._h,!c._a3||"y"===c._z2&&a||"x"===c._z2&&!a){if(n||!c._t2)return c._t2=!1,void(c.dragSuccess=!1);if(c._t2=!1,c.st.navigateByClick)return c._i2(c.pointerEnabled?t.originalEvent:t),void(c.dragSuccess=!0);c.dragSuccess=!0}else c.dragSuccess=!0;c._t2=!1,c._z2="";var d=c.st.minSlideOffset;r=r?t.originalEvent.changedTouches[0]:c.pointerEnabled?t.originalEvent:t;var f=a?r.pageX:r.pageY,m=c._d3;r=c._v;var h=c.currSlideId,p=c.numSlides,g=a?c._f3:c._g3,v=c._z;if(Math.abs(f-m),r=f-r,a=(new Date).getTime()-c._j3,a=Math.abs(r)/a,0===g||1>=p)o(!0,a);else{if(!v&&!n)if(0>=h){if(0<g)return void o(!0,a)}else if(h>=p-1&&0>g)return void o(!0,a);if(n){if((s=c._i3)>c._n3)s=c._n3;else if(s<c._o3)s=c._o3;else{if(f=a*a/.006,u=-c._i3,m=c._y3-c._z3+c._i3,0<r&&f>u?(a=a*(u+=c._z3/(15/(f/a*.003)))/f,f=u):0>r&&f>m&&(a=a*(m+=c._z3/(15/(f/a*.003)))/f,f=m),u=Math.max(Math.round(a/.003),50),(s+=f*(0>r?-1:1))>c._n3)return void c._a4(s,u,!0,c._n3,200);if(s<c._o3)return void c._a4(s,u,!0,c._o3,200)}c._a4(s,u,!0)}else u=function(e){var t=Math.floor(e/c._w);return e-t*c._w>d&&t++,t},m+d<f?0>g?o(!1,a):(u=u(f-m),c._m2(c.currSlideId-u,i(Math.abs(c._p-(-c._u-c._d1+u)*c._w)/a),!1,!0,!0)):m-d>f?0<g?o(!1,a):(u=u(m-f),c._m2(c.currSlideId+u,i(Math.abs(c._p-(-c._u-c._d1-u)*c._w)/a),!1,!0,!0)):o(!1,a)}}},_p3:function(e){e=this._p=e,this._e?this._p1.css(this._x1,this._y1+(this._h?e+this._z1+0:0+this._z1+e)+this._a2):this._p1.css(this._h?this._x1:this._w1,e)},updateSliderSize:function(e){var t,n;if(this.slider){if(this.st.autoScaleSlider){var i=this.st.autoScaleSliderWidth,o=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?((t=this.slider.width())!=this.width&&(this.slider.css("height",o/i*t),t=this.slider.width()),n=this.slider.height()):((n=this.slider.height())!=this.height&&(this.slider.css("width",i/o*n),n=this.slider.height()),t=this.slider.width())}else t=this.slider.width(),n=this.slider.height();if(e||t!=this.width||n!=this.height){for(this.width=t,this.height=n,this._b4=t,this._c4=n,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,t=0;t<this.slides.length;t++)(e=this.slides[t]).positionSet=!1,e&&e.images&&e.isLoaded&&(e.isRendered=!1,this._q2(e));if(this._e4)for(t=0;t<this._e4.length;t++)(e=this._e4[t]).holder.css(this._i,(e.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]}},appendSlide:function(t,n){var i=this._s(t);(isNaN(n)||n>this.numSlides)&&(n=this.numSlides),this.slides.splice(n,0,i),this.slidesJQ.splice(n,0,e('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>')),n<=this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[i,n]),this._f4(n),n===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(e){var t=this.slides[e];t&&(t.holder&&t.holder.remove(),e<this.currSlideId&&this.currSlideId--,this.slides.splice(e,1),this.slidesJQ.splice(e,1),this.ev.trigger("rsOnRemoveSlide",[e]),this._f4(e),e===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(e){var t=this;for(e=t.numSlides,e=0>=t._u?0:Math.floor(t._u/e),t.numSlides=t.slides.length,0===t.numSlides?(t.currSlideId=t._d1=t._u=0,t.currSlide=t._g4=null):t._u=e*t.numSlides+t.currSlideId,e=0;e<t.numSlides;e++)t.slides[e].id=e;t.currSlide=t.slides[t.currSlideId],t._r1=t.slidesJQ[t.currSlideId],t.currSlideId>=t.numSlides?t.goTo(t.numSlides-1):0>t.currSlideId&&t.goTo(0),t._t(),t._l&&t._p1.css(t._g+t._u1,"0ms"),t._h4&&clearTimeout(t._h4),t._h4=setTimeout((function(){t._l&&t._p3((-t._u-t._d1)*t._w),t._n2(),t._l||t._r1.css({display:"block",opacity:1})}),14),t.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(e){this._m2("next",this.st.transitionSpeed,!0,!e)},prev:function(e){this._m2("prev",this.st.transitionSpeed,!0,!e)},_m2:function(e,t,n,i,o){var r,a,s,l=this;if(l.ev.trigger("rsBeforeMove",[e,i]),s="next"===e?l.currSlideId+1:"prev"===e?l.currSlideId-1:e=parseInt(e,10),!l._z){if(0>s)return void l._i4("left",!i);if(s>=l.numSlides)return void l._i4("right",!i)}l._r2&&(l._u2(!0),n=!1),a=s-l.currSlideId,s=l._o2=l.currSlideId;var c,u=l.currSlideId+a;i=l._u,l._z?(u=l._n2(!1,u),i+=a):i=u,l._o=u,l._g4=l.slidesJQ[l.currSlideId],l._u=i,l.currSlideId=l._o,l.currSlide=l.slides[l.currSlideId],l._r1=l.slidesJQ[l.currSlideId];u=l.st.slidesDiff;var d=Boolean(0<a);a=Math.abs(a);var f=Math.floor(s/l._y),m=Math.floor((s+(d?u:-u))/l._y);if((f=(d?Math.max(f,m):Math.min(f,m))*l._y+(d?l._y-1:0))>l.numSlides-1?f=l.numSlides-1:0>f&&(f=0),(s=d?f-s:s-f)>l._y&&(s=l._y),a>s+u)for(l._d1+=(a-(s+u))*(d?-1:1),t*=1.4,s=0;s<l.numSlides;s++)l.slides[s].positionSet=!1;l._c=t,l._n2(!0),o||(c=!0),r=(-i-l._d1)*l._w,c?setTimeout((function(){l._j4=!1,l._x3(r,e,!1,n),l.ev.trigger("rsOnUpdateNav")}),0):(l._x3(r,e,!1,n),l.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(t,n,i,o,r){function a(){var e;s&&(e=s.data("rsTimeout"))&&(s!==l&&s.css({opacity:0,display:"none",zIndex:0}),clearTimeout(e),s.data("rsTimeout","")),(e=l.data("rsTimeout"))&&(clearTimeout(e),l.data("rsTimeout",""))}var s,l,c=this,u={};isNaN(c._c)&&(c._c=400),c._p=c._h3=t,c.ev.trigger("rsBeforeAnimStart"),c._e?c._l?(c._c=parseInt(c._c,10),i=c._g+c._v1,u[c._g+c._u1]=c._c+"ms",u[i]=o?e.rsCSS3Easing[c.st.easeInOut]:e.rsCSS3Easing[c.st.easeOut],c._p1.css(u),o||!c.hasTouch?setTimeout((function(){c._p3(t)}),5):c._p3(t)):(c._c=c.st.transitionSpeed,s=c._g4,(l=c._r1).data("rsTimeout")&&l.css("opacity",0),a(),s&&s.data("rsTimeout",setTimeout((function(){u[c._g+c._u1]="0ms",u.zIndex=0,u.display="none",s.data("rsTimeout",""),s.css(u),setTimeout((function(){s.css("opacity",0)}),16)}),c._c+60)),u.display="block",u.zIndex=c._m,u.opacity=0,u[c._g+c._u1]="0ms",u[c._g+c._v1]=e.rsCSS3Easing[c.st.easeInOut],l.css(u),l.data("rsTimeout",setTimeout((function(){l.css(c._g+c._u1,c._c+"ms"),l.data("rsTimeout",setTimeout((function(){l.css("opacity",1),l.data("rsTimeout","")}),20))}),20))):c._l?(u[c._h?c._x1:c._w1]=t+"px",c._p1.animate(u,c._c,o?c.st.easeInOut:c.st.easeOut)):(s=c._g4,(l=c._r1).stop(!0,!0).css({opacity:0,display:"block",zIndex:c._m}),c._c=c.st.transitionSpeed,l.animate({opacity:1},c._c,c.st.easeInOut),a(),s&&s.data("rsTimeout",setTimeout((function(){s.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})}),c._c+60))),c._r2=!0,c.loadingTimeout&&clearTimeout(c.loadingTimeout),c.loadingTimeout=r?setTimeout((function(){c.loadingTimeout=null,r.call()}),c._c+60):setTimeout((function(){c.loadingTimeout=null,c._k4(n)}),c._c+60)},_u2:function(e){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!e){e=this._p;var t=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),e!==t&&this._p3(t)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._h?this._x1:this._w1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var e=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),t=0===e[0].indexOf("matrix3d");return parseInt(e[this._h?t?12:4:t?13:5],10)},_m4:function(e,t){return this._e?this._y1+(t?e+this._z1+0:0+this._z1+e)+this._a2:e},_k4:function(e){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(e,t){var n=this,i=(-n._u-n._d1)*n._w;if(0!==n.numSlides&&!n._r2)if(n.st.loopRewind)n.goTo("left"===e?n.numSlides-1:0,t);else if(n._l){n._c=200;var o=function(){n._r2=!1};n._x3(i+("left"===e?30:-30),"",!1,!0,(function(){n._r2=!1,n._x3(i,"",!1,!0,o)}))}},_q2:function(t,n){if(!t.isRendered){var i,o,r=t.content,a="rsMainSlideImage",s=e.isFunction(this.st.imageAlignCenter)?this.st.imageAlignCenter(t):this.st.imageAlignCenter,l=e.isFunction(this.st.imageScaleMode)?this.st.imageScaleMode(t):this.st.imageScaleMode;if(t.videoURL&&(a="rsVideoContainer","fill"!==l?i=!0:((o=r).hasClass(a)||(o=o.find("."+a)),o.css({width:"100%",height:"100%"}),a="rsMainSlideImage")),r.hasClass(a)||(r=r.find("."+a)),r){var c=t.iW,u=t.iH;if(t.isRendered=!0,"none"!==l||s){a="fill"!==l?this._d4:0,o=this._b4-2*a;var d,f,m=this._c4-2*a,h={};"fit-if-smaller"===l&&(c>o||u>m)&&(l="fit"),"fill"!==l&&"fit"!==l||(d=o/c,f=m/u,d="fill"==l?d>f?d:f:"fit"==l?d<f?d:f:1,c=Math.ceil(c*d,10),u=Math.ceil(u*d,10)),"none"!==l&&(h.width=c,h.height=u,i&&r.find(".rsImg").css({width:"100%",height:"100%"})),s&&(h.marginLeft=Math.floor((o-c)/2)+a,h.marginTop=Math.floor((m-u)/2)+a),r.css(h)}}}}},e.rsProto=t.prototype,e.fn.royalSlider=function(n){var i=arguments;return this.each((function(){var o=e(this);if("object"!=typeof n&&n){if((o=o.data("royalSlider"))&&o[n])return o[n].apply(o,Array.prototype.slice.call(i,1))}else o.data("royalSlider")||o.data("royalSlider",new t(o,n))}))},e.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},e.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},e.extend(jQuery.easing,{easeInOutSine:function(e,t,n,i,o){return-i/2*(Math.cos(Math.PI*t/o)-1)+n},easeOutSine:function(e,t,n,i,o){return i*Math.sin(t/o*(Math.PI/2))+n},easeOutCubic:function(e,t,n,i,o){return i*((t=t/o-1)*t*t+1)+n}})}(jQuery,window),function(e){e.extend(e.rsProto,{_i5:function(){var t=this;"bullets"===t.st.controlNavigation&&(t.ev.one("rsAfterPropsSetup",(function(){t._j5=!0,t.slider.addClass("rsWithBullets");for(var n='<div class="rsNav rsBullets">',i=0;i<t.numSlides;i++)n+='<div class="rsNavItem rsBullet"><span></span></div>';t._k5=n=e(n+"</div>"),t._l5=n.appendTo(t.slider).children(),t._k5.on("click.rs",".rsNavItem",(function(n){t._m5||t.goTo(e(this).index())}))})),t.ev.on("rsOnAppendSlide",(function(e,n,i){i>=t.numSlides?t._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):t._l5.eq(i).before('<div class="rsNavItem rsBullet"><span></span></div>'),t._l5=t._k5.children()})),t.ev.on("rsOnRemoveSlide",(function(e,n){var i=t._l5.eq(n);i&&i.length&&(i.remove(),t._l5=t._k5.children())})),t.ev.on("rsOnUpdateNav",(function(){var e=t.currSlideId;t._n5&&t._n5.removeClass("rsNavSelected"),(e=t._l5.eq(e)).addClass("rsNavSelected"),t._n5=e})))}}),e.rsModules.bullets=e.rsProto._i5}(jQuery),function(e){e.extend(e.rsProto,{_q5:function(){var t=this;t._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},t.st.fullscreen=e.extend({},t._r5,t.st.fullscreen),t.st.fullscreen.enabled&&t.ev.one("rsBeforeSizeSet",(function(){t._s5()}))},_s5:function(){var t=this;if(t._t5=!t.st.keyboardNavEnabled&&t.st.fullscreen.keyboardNav,t.st.fullscreen.nativeFS){var n={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},i=["webkit","moz","o","ms","khtml"];if(void 0!==document.cancelFullScreen)n.supportsFullScreen=!0;else for(var o=0,r=i.length;o<r;o++)if(n.prefix=i[o],void 0!==document[n.prefix+"CancelFullScreen"]){n.supportsFullScreen=!0;break}n.supportsFullScreen?(t.nativeFS=!0,n.fullScreenEventName=n.prefix+"fullscreenchange"+t.ns,n.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},n.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},n.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()},t._u5=n):t._u5=!1}t.st.fullscreen.buttonFS&&(t._v5=e('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(t._o1).on("click.rs",(function(){t.isFullscreen?t.exitFullscreen():t.enterFullscreen()})))},enterFullscreen:function(t){var n=this;if(n._u5){if(!t)return n._b.on(n._u5.fullScreenEventName,(function(e){n._u5.isFullScreen()?n.enterFullscreen(!0):n.exitFullscreen(!0)})),void n._u5.requestFullScreen(e("html")[0]);n._u5.requestFullScreen(e("html")[0])}if(!n._w5){var i;for(n._w5=!0,n._b.on("keyup"+n.ns+"fullscreen",(function(e){27===e.keyCode&&n.exitFullscreen()})),n._t5&&n._b2(),t=e(window),n._x5=t.scrollTop(),n._y5=t.scrollLeft(),n._z5=e("html").attr("style"),n._a6=e("body").attr("style"),n._b6=n.slider.attr("style"),e("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),n.slider.addClass("rsFullscreen"),i=0;i<n.numSlides;i++)(t=n.slides[i]).isRendered=!1,t.bigImage&&(t.isBig=!0,t.isMedLoaded=t.isLoaded,t.isMedLoading=t.isLoading,t.medImage=t.image,t.medIW=t.iW,t.medIH=t.iH,t.slideId=-99,t.bigImage!==t.medImage&&(t.sizeType="big"),t.isLoaded=t.isBigLoaded,t.isLoading=!1,t.image=t.bigImage,t.images[0]=t.bigImage,t.iW=t.bigIW,t.iH=t.bigIH,t.isAppended=t.contentAdded=!1,n._c6(t));n.isFullscreen=!0,n._w5=!1,n.updateSliderSize(),n.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(t){var n=this;if(n._u5){if(!t)return void n._u5.cancelFullScreen(e("html")[0]);n._b.off(n._u5.fullScreenEventName)}if(!n._w5){var i;for(n._w5=!0,n._b.off("keyup"+n.ns+"fullscreen"),n._t5&&n._b.off("keydown"+n.ns),e("html").attr("style",n._z5||""),e("body").attr("style",n._a6||""),i=0;i<n.numSlides;i++)(t=n.slides[i]).isRendered=!1,t.bigImage&&(t.isBig=!1,t.slideId=-99,t.isBigLoaded=t.isLoaded,t.isBigLoading=t.isLoading,t.bigImage=t.image,t.bigIW=t.iW,t.bigIH=t.iH,t.isLoaded=t.isMedLoaded,t.isLoading=!1,t.image=t.medImage,t.images[0]=t.medImage,t.iW=t.medIW,t.iH=t.medIH,t.isAppended=t.contentAdded=!1,n._c6(t,!0),t.bigImage!==t.medImage&&(t.sizeType="med"));n.isFullscreen=!1,(t=e(window)).scrollTop(n._x5),t.scrollLeft(n._y5),n._w5=!1,n.slider.removeClass("rsFullscreen"),n.updateSliderSize(),setTimeout((function(){n.updateSliderSize()}),1),n.ev.trigger("rsExitFullscreen")}},_c6:function(t,n){var i=t.isLoaded||t.isLoading?'<img class="rsImg rsMainSlideImage" src="'+t.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+t.image+'"></a>';t.content.hasClass("rsImg")?t.content=e(i):t.content.find(".rsImg").eq(0).replaceWith(i),t.isLoaded||t.isLoading||!t.holder||t.holder.html(t.content)}}),e.rsModules.fullscreen=e.rsProto._q5}(jQuery),function(e){e.extend(e.rsProto,{_d6:function(){var t=this;t.st.globalCaption&&(t.ev.on("rsAfterInit",(function(){t.globalCaption=e('<div class="rsGCaption"></div>').appendTo(t.st.globalCaptionInside?t._e1:t.slider),t.globalCaption.html(t.currSlide.caption)})),t.ev.on("rsBeforeAnimStart",(function(){t.globalCaption.html(t.currSlide.caption)})))}}),e.rsModules.globalCaption=e.rsProto._d6}(jQuery),function(e){e.rsProto._o4=function(){var e,t=this;t.st.addActiveClass&&t.ev.on("rsOnUpdateNav",(function(){e&&clearTimeout(e),e=setTimeout((function(){t._g4&&t._g4.removeClass("rsActiveSlide"),t._r1&&t._r1.addClass("rsActiveSlide"),e=null}),50)}))},e.rsModules.activeClass=e.rsProto._o4}(jQuery),function(e){e.extend(e.rsProto,{_o5:function(){var t,n,i,o=this;if(o._p5={enabled:!1,change:!1,prefix:""},o.st.deeplinking=e.extend({},o._p5,o.st.deeplinking),o.st.deeplinking.enabled){var r=o.st.deeplinking.change,a=o.st.deeplinking.prefix,s="#"+a,l=function(){var e=window.location.hash;return e&&0<e.indexOf(a)&&0<=(e=parseInt(e.substring(s.length),10))?e-1:-1},c=l();-1!==c&&(o.st.startSlideId=c),r&&(e(window).on("hashchange"+o.ns,(function(e){t||(0>(e=l())||(e>o.numSlides-1&&(e=o.numSlides-1),o.goTo(e)))})),o.ev.on("rsBeforeAnimStart",(function(){n&&clearTimeout(n),i&&clearTimeout(i)})),o.ev.on("rsAfterSlideChange",(function(){n&&clearTimeout(n),i&&clearTimeout(i),i=setTimeout((function(){t=!0,window.location.replace((""+window.location).split("#")[0]+s+(o.currSlideId+1)),n=setTimeout((function(){t=!1,n=null}),60)}),400)}))),o.ev.on("rsBeforeDestroy",(function(){n=i=null,r&&e(window).off("hashchange"+o.ns)}))}}}),e.rsModules.deeplinking=e.rsProto._o5}(jQuery),function(e,t,n){function i(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}var o,r=document,a=e.event.special,s=r.documentMode,l="onhashchange"in t&&(s===n||7<s);e.fn.hashchange=function(e){return e?this.bind("hashchange",e):this.trigger("hashchange")},e.fn.hashchange.delay=50,a.hashchange=e.extend(a.hashchange,{setup:function(){if(l)return!1;e(o.start)},teardown:function(){if(l)return!1;e(o.stop)}}),o=function(){function o(){var n=i(),r=f(c);n!==c?(d(c=n,r),e(t).trigger("hashchange")):r!==c&&(location.href=location.href.replace(/#.*/,"")+r),a=setTimeout(o,e.fn.hashchange.delay)}var a,s={},c=i(),u=function(e){return e},d=u,f=u;return s.start=function(){a||o()},s.stop=function(){a&&clearTimeout(a),a=n},t.attachEvent&&!t.addEventListener&&!l&&function(){var t,n;s.start=function(){t||(n=(n=e.fn.hashchange.src)&&n+i(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",(function(){n||d(i()),o()})).attr("src",n||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=r.title)}catch(e){}})},s.stop=u,f=function(){return i(t.location.href)},d=function(n,i){var o=t.document,a=e.fn.hashchange.domain;n!==i&&(o.title=r.title,o.open(),a&&o.write('<script>document.domain="'+a+'"<\/script>'),o.close(),t.location.hash=n)}}(),s}()}(jQuery,this),
/*! PhotoSwipe Default UI - 4.0.7 - 2015-03-18
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,(function(){"use strict";return function(e,t){var n,i,o,r,a,s,l,c,u,d,f,m,h,p,g,v,w,_,y=this,b=!1,x=!0,S=!0,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / "},T=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&z();for(var n,i,o=(e.target||e.srcElement).className,r=0;r<P.length;r++)(n=P[r]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),v=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),a)}},C=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},E=function(){var e=1===g.getNumItemsFn();e!==p&&(C(i,"ui--one-slide",e),p=e)},k=function(){C(l,"share-modal--hidden",S)},F=function(){return(S=!S)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){S&&k()}),300)):(k(),setTimeout((function(){S||t.addClass(l,"pswp__share-modal--fade-in")}),30)),S||O(),!1},M=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||F(),!1))},O=function(){for(var e,t,n,i,o="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),i=g.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(o=g.parseShareButtonOut(e,o));l.children[0].innerHTML=o,l.children[0].onclick=M},L=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},A=0,z=function(){clearTimeout(_),A=0,u&&y.setIdle(!1)},D=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(_),_=setTimeout((function(){y.setIdle(!0)}),g.timeToIdleOutside))},N=function(e){m!==e&&(C(f,"preloader--active",!e),m=e)},R=function(n){var a=n.vGap;if(!e.likelyTouchDevice||g.mouseUsed||screen.width>1200){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(n,r,!0)){var l=r.clientHeight;a.bottom=parseInt(l,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},P=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];y.init=function(){var a;t.extend(e.options,I,!0),g=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(d=e.listen)("onVerticalDrag",(function(e){x&&e<.95?y.hideControls():!x&&e>=.95&&y.showControls()})),d("onPinchClose",(function(e){x&&e<.9?(y.hideControls(),a=!0):a&&!x&&e>.9&&y.showControls()})),d("zoomGestureEnded",(function(){(a=!1)&&!x&&y.showControls()})),d("beforeChange",y.update),d("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)})),d("preventDragEvent",(function(e,t,n){var i=e.target||e.srcElement;i&&i.className&&e.type.indexOf("mouse")>-1&&(i.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)})),d("bindEvents",(function(){t.bind(i,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",y.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",y.onMouseOver)})),d("unbindEvents",(function(){S||F(),w&&clearInterval(w),t.unbind(document,"mouseout",D),t.unbind(document,"mousemove",z),t.unbind(i,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",y.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",y.onMouseOver),n&&(t.unbind(document,n.eventK,y.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),d("destroy",(function(){g.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),y.setIdle(!1)})),g.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",(function(){g.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")})),d("initialZoomOut",(function(){t.addClass(i,"pswp__ui--hidden")})),d("parseVerticalMargin",R),function(){var e,n,o,r=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var s=0;s<P.length;s++)o=P[s],n.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&r(a.children)}(),g.shareEl&&s&&l&&(S=!0),E(),g.timeToIdle&&d("mouseUsed",(function(){t.bind(document,"mousemove",z),t.bind(document,"mouseout",D),w=setInterval((function(){2==++A&&y.setIdle(!0)}),g.timeToIdle/2)})),g.fullscreenEl&&(n||(n=y.getFullscreenAPI()),n?(t.bind(document,n.eventK,y.updateFullscreen),y.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(N(!0),d("beforeChange",(function(){clearTimeout(h),h=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&N(!1):N(!0)}),g.loadingIndicatorDelay)})),d("imageLoadComplete",(function(t,n){e.currItem===n&&N(!0)})))},y.setIdle=function(e){u=e,C(i,"ui--idle",e)},y.update=function(){x&&e.currItem?(y.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),C(o,"caption--empty",!e.currItem.title)),b=!0):b=!1,S||F(),E()},y.updateFullscreen=function(i){i&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},y.updateIndexIndicator=function(){g.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},y.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(L(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?y.hideControls():y.showControls()),g.tapToClose&&(t.hasClass(i,"pswp__img")||L(i)))return void e.close()},y.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;C(i,"ui--over-close",L(t))},y.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),x=!1},y.showControls=function(){x=!0,b||y.update(),t.removeClass(i,"pswp__ui--hidden")},y.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},y.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})),
/*! PhotoSwipe - v4.0.7 - 2015-03-18
	 * http://photoswipe.com
	 * Copyright (c) 2015 Dmitry Semenov; */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,(function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10))>=1&&r<8&&(n.isOldIOSPhone=!0)}var a=i.match(/Android\s([0-9\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(n.isOldAndroid=!0),n.androidVersion=s),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var l,c,u=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],f=0;f<4;f++){t=d[f];for(var m=0;m<3;m++)l=u[m],c=t+(t?l.charAt(0).toUpperCase()+l.slice(1):l),!n[l]&&c in e&&(n[l]=c);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var h=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),i=window.setTimeout((function(){e(t+n)}),n);return h=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)});var r=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.5},maxSpreadZoom:2,scaleMode:"fit",modal:!0,alwaysFadeIn:!1};o.extend(a,i);var s,l,c,u,d,f,m,h,p,g,v,w,_,y,b,x,S,I,T,C,E,k,F,M,O,L,A,z,D,N,R,P,H,B,W,j,q,U,Z,K,V,Y,G,Q,X,J,$,ee,te,ne,ie,oe,re,ae,se,le,ce={x:0,y:0},ue={x:0,y:0},de={x:0,y:0},fe={},me=0,he={x:0,y:0},pe=0,ge=!0,ve=[],we={},_e=function(e,t){o.extend(r,t.publicMethods),ve.push(e)},ye=function(e){var t=Ht();return e>t-1?e-t:e<0?t+e:e},be={},xe=function(e,t){return be[e]||(be[e]=[]),be[e].push(t)},Se=function(e){var t=be[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(r,n)}},Ie=function(){return(new Date).getTime()},Te=function(e){ae=e,r.bg.style.opacity=e*a.bgOpacity},Ce=function(e,t,n,i){e[F]=w+t+"px, "+n+"px"+_+" scale("+i+")"},Ee=function(){te&&Ce(te,de.x,de.y,g)},ke=function(e){e.container&&Ce(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel)},Fe=function(e,t){t[F]=w+e+"px, 0px"+_},Me=function(e,t){if(!a.loop&&t){var n=u+(he.x*me-e)/he.x,i=Math.round(e-lt.x);(n<0&&i>0||n>=Ht()-1&&i<0)&&(e=lt.x+i*a.mainScrollEndFriction)}lt.x=e,Fe(e,d)},Oe=function(e,t){var n=ct[e]-x[e];return ue[e]+ce[e]+n-n*(t/v)},Le=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ae=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},ze=null,De=function(){ze&&(o.unbind(document,"mousemove",De),o.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,Se("mouseUsed")),ze=setTimeout((function(){ze=null}),100)},Ne=function(e,t){var n=Ut(r.currItem,fe,e);return t&&(ee=n),n},Re=function(e){return e||(e=r.currItem),e.initialZoomLevel},Pe=function(e){return e||(e=r.currItem),e.w>0?a.maxSpreadZoom:1},He=function(e,t,n,i){return i===r.currItem.initialZoomLevel?(n[e]=r.currItem.initialPosition[e],!0):(n[e]=Oe(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Be=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]()))},We=function(e){e&&(Y||V||ne||q)&&(e.preventDefault(),e.stopPropagation())},je=function(){r.setScrollOffset(0,o.getScrollY())},qe={},Ue=0,Ze=function(e){qe[e]&&(qe[e].raf&&A(qe[e].raf),Ue--,delete qe[e])},Ke=function(e){qe[e]&&Ze(e),qe[e]||(Ue++,qe[e]={})},Ve=function(){for(var e in qe)qe.hasOwnProperty(e)&&Ze(e)},Ye=function(e,t,n,i,o,r,a){var s,l=Ie();Ke(e);var c=function(){if(qe[e]){if((s=Ie()-l)>=i)return Ze(e),r(n),void(a&&a());r((n-t)*o(s/i)+t),qe[e].raf=L(c)}};c()},Ge={shout:Se,listen:xe,viewportSize:fe,options:a,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return g},getCurrentIndex:function(){return u},isDragging:function(){return Z},isZooming:function(){return J},setScrollOffset:function(e,t){x.x=e,R=x.y=t},applyZoomPan:function(e,t,n){de.x=t,de.y=n,g=e,Ee()},init:function(){if(!s&&!l){var n;r.framework=o,r.template=e,r.bg=o.getChildByClass(e,"pswp__bg"),z=e.className,s=!0,P=o.detectFeatures(),L=P.raf,A=P.caf,F=P.transform,N=P.oldIE,r.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),r.container=o.getChildByClass(r.scrollWrap,"pswp__container"),d=r.container.style,r.itemHolders=S=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",function(){if(F){var t=P.perspective&&!O;return w="translate"+(t?"3d(":"("),void(_=P.perspective?", 0px)":")")}F="left",o.addClass(e,"pswp--ie"),Fe=function(e,t){t.left=e+"px"},ke=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Ee=function(){if(te){var e=te,t=r.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=de.x+"px",e.top=de.y+"px"}}}(),p={resize:r.updateSize,scroll:je,keydown:Be,click:We};var i=P.isOldIOSPhone||P.isOldAndroid||P.isMobileOpera;for(P.animationName&&P.transform&&!i||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<ve.length;n++)r["init"+ve[n]]();if(t)(r.ui=new t(r,o)).init();Se("firstUpdate"),u=u||a.index||0,(isNaN(u)||u<0||u>=Ht())&&(u=0),r.currItem=Pt(u),(P.isOldIOSPhone||P.isOldAndroid)&&(ge=!1),a.modal&&(e.setAttribute("aria-hidden","false"),ge?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===R&&(Se("initialLayout"),R=D=o.getScrollY());var c="pswp--open ";for(a.mainClass&&(c+=a.mainClass+" "),a.showHideOpacity&&(c+="pswp--animate_opacity "),c+=O?"pswp--touch":"pswp--notouch",c+=P.animationName?" pswp--css_animation":"",c+=P.svg?" pswp--svg":"",o.addClass(e,c),r.updateSize(),f=-1,pe=null,n=0;n<3;n++)Fe((n+f)*he.x,S[n].el.style);N||o.bind(r.scrollWrap,h,r),xe("initialZoomInEnd",(function(){r.setContent(S[0],u-1),r.setContent(S[2],u+1),S[0].el.style.display=S[2].el.style.display="block",a.focus&&e.focus(),o.bind(document,"keydown",r),P.transform&&o.bind(r.scrollWrap,"click",r),a.mouseUsed||o.bind(document,"mousemove",De),o.bind(window,"resize scroll",r),Se("bindEvents")})),r.setContent(S[1],u),r.updateCurrItem(),Se("afterInit"),ge||(y=setInterval((function(){Ue||Z||J||g!==r.currItem.initialZoomLevel||r.updateSize()}),1e3)),o.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,Se("close"),o.unbind(window,"resize",r),o.unbind(window,"scroll",p.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",De),P.transform&&o.unbind(r.scrollWrap,"click",r),Z&&o.unbind(window,m,r),Se("unbindEvents"),Bt(r.currItem,null,!0,r.destroy))},destroy:function(){Se("destroy"),zt&&clearTimeout(zt),a.modal&&(e.setAttribute("aria-hidden","true"),e.className=z),y&&clearInterval(y),o.unbind(r.scrollWrap,h,r),o.unbind(window,"scroll",r),ft(),Ve(),be=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),de.x=e,de.y=t,Ee()},handleEvent:function(e){e=e||window.event,p[e.type]&&p[e.type](e)},goTo:function(e){var t=(e=ye(e))-u;pe=t,u=e,r.currItem=Pt(u),me-=t,Me(he.x*me),Ve(),ne=!1,r.updateCurrItem()},next:function(){r.goTo(u+1)},prev:function(){r.goTo(u-1)},updateCurrZoomItem:function(e){if(e&&Se("beforeChange",0),S[1].el.children.length){var t=S[1].el.children[0];te=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=r.currItem.bounds,v=g=r.currItem.initialZoomLevel,de.x=ee.center.x,de.y=ee.center.y,e&&Se("afterChange")},invalidateCurrItems:function(){b=!0;for(var e=0;e<3;e++)S[e].item&&(S[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==pe){var t,n=Math.abs(pe);if(!(e&&n<2)){r.currItem=Pt(u),Se("beforeChange",pe),n>=3&&(f+=pe+(pe>0?-3:3),n=3);for(var i=0;i<n;i++)pe>0?(t=S.shift(),S[2]=t,f++,Fe((f+2)*he.x,t.el.style),r.setContent(t,u-n+i+1+1)):(t=S.pop(),S.unshift(t),f--,Fe(f*he.x,t.el.style),r.setContent(t,u+n-i-1-1));if(te&&1===Math.abs(pe)){var o=Pt(I);o.initialZoomLevel!==g&&(Ut(o,fe),ke(o))}pe=0,r.updateCurrZoomItem(),I=u,Se("afterChange")}}},updateSize:function(t){if(!ge){var n=o.getScrollY();if(R!==n&&(e.style.top=n+"px",R=n),!t&&we.x===window.innerWidth&&we.y===window.innerHeight)return;we.x=window.innerWidth,we.y=window.innerHeight,e.style.height=we.y+"px"}if(fe.x=r.scrollWrap.clientWidth,fe.y=r.scrollWrap.clientHeight,x={x:0,y:R},he.x=fe.x+Math.round(fe.x*a.spacing),he.y=fe.y,Me(he.x*me),Se("beforeResize"),void 0!==f){for(var i,s,l,c=0;c<3;c++)i=S[c],Fe((c+f)*he.x,i.el.style),l=u+c-1,a.loop&&Ht()>2&&(l=ye(l)),(s=Pt(l))&&(b||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(i,l),1===c&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===i.index&&l>=0&&r.setContent(i,l),s&&s.container&&(Ut(s,fe),ke(s));b=!1}v=g=r.currItem.initialZoomLevel,(ee=r.currItem.bounds)&&(de.x=ee.center.x,de.y=ee.center.y,Ee()),Se("resize")},zoomTo:function(e,t,n,i,r){t&&(v=g,ct.x=Math.abs(t.x)-de.x,ct.y=Math.abs(t.y)-de.y,Le(ue,de));var a=Ne(e,!1),s={};He("x",a,s,e),He("y",a,s,e);var l=g,c=de.x,u=de.y;Ae(s);var d=function(t){1===t?(g=e,de.x=s.x,de.y=s.y):(g=(e-l)*t+l,de.x=(s.x-c)*t+c,de.y=(s.y-u)*t+u),r&&r(t),Ee()};n?Ye("customZoomTo",0,1,n,i||o.easing.sine.inOut,d):d(1)}},Qe={},Xe={},Je={},$e={},et={},tt=[],nt={},it=[],ot={},rt=0,at={x:0,y:0},st=0,lt={x:0,y:0},ct={x:0,y:0},ut={x:0,y:0},dt=function(e,t){return ot.x=Math.abs(e.x-t.x),ot.y=Math.abs(e.y-t.y),Math.sqrt(ot.x*ot.x+ot.y*ot.y)},ft=function(){G&&(A(G),G=null)},mt=function(){Z&&(G=L(mt),Et())},ht=function(e,t){return!!e&&(!(e.className&&e.className.indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:ht(e.parentNode,t)))},pt={},gt=function(e,t){return pt.prevent=!ht(e.target,a.isClickableElement),Se("preventDragEvent",e,t,pt),pt.prevent},vt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},wt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},_t=function(){var e=de.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(fe.y/2))},yt={},bt={},xt=[],St=function(e){for(;xt.length>0;)xt.pop();return M?(le=0,tt.forEach((function(e){0===le?xt[0]=e:1===le&&(xt[1]=e),le++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(xt[0]=vt(e.touches[0],yt),e.touches.length>1&&(xt[1]=vt(e.touches[1],bt))):(yt.x=e.pageX,yt.y=e.pageY,yt.id="",xt[0]=yt),xt},It=function(e,t){var n,i,o,s,l=de[e]+t[e],c=t[e]>0,u=lt.x+t.x,d=lt.x-nt.x;if(n=l>ee.min[e]||l<ee.max[e]?a.panEndFriction:1,l=de[e]+t[e]*n,(a.allowPanToNext||g===r.currItem.initialZoomLevel)&&(te?"h"!==ie||"x"!==e||V||(c?(l>ee.min[e]&&(n=a.panEndFriction,ee.min[e]-l,i=ee.min[e]-ue[e]),(i<=0||d<0)&&Ht()>1?(s=u,d<0&&u>nt.x&&(s=nt.x)):ee.min.x!==ee.max.x&&(o=l)):(l<ee.max[e]&&(n=a.panEndFriction,l-ee.max[e],i=ue[e]-ee.max[e]),(i<=0||d>0)&&Ht()>1?(s=u,d>0&&u<nt.x&&(s=nt.x)):ee.min.x!==ee.max.x&&(o=l))):s=u,"x"===e))return void 0!==s&&(Me(s,!0),Q=s!==nt.x),ee.min.x!==ee.max.x&&(void 0!==o?de.x=o:Q||(de.x+=t.x*n)),void 0!==s;ne||Q||g>r.currItem.fitRatio&&(de[e]+=t[e]*n)},Tt=function(e){if(!("mousedown"===e.type&&e.button>0))if(Rt)e.preventDefault();else if(!U||"mousedown"!==e.type){if(gt(e,!0)&&e.preventDefault(),Se("pointerDown"),M){var t=o.arraySearch(tt,e.pointerId,"id");t<0&&(t=tt.length),tt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=St(e),i=n.length;X=null,Ve(),Z&&1!==i||(Z=oe=!0,o.bind(window,m,r),j=se=re=q=Q=Y=K=V=!1,ie=null,Se("firstTouchStart",n),Le(ue,de),ce.x=ce.y=0,Le($e,n[0]),Le(et,$e),nt.x=he.x*me,it=[{x:$e.x,y:$e.y}],B=H=Ie(),Ne(g,!0),ft(),mt()),!J&&i>1&&!ne&&!Q&&(v=g,V=!1,J=K=!0,ce.y=ce.x=0,Le(ue,de),Le(Qe,n[0]),Le(Xe,n[1]),wt(Qe,Xe,ut),ct.x=Math.abs(ut.x)-de.x,ct.y=Math.abs(ut.y)-de.y,$=dt(Qe,Xe))}},Ct=function(e){if(e.preventDefault(),M){var t=o.arraySearch(tt,e.pointerId,"id");if(t>-1){var n=tt[t];n.x=e.pageX,n.y=e.pageY}}if(Z){var i=St(e);if(ie||Y||J)X=i;else{var r=Math.abs(i[0].x-$e.x)-Math.abs(i[0].y-$e.y);Math.abs(r)>=10&&(ie=r>0?"h":"v",X=i)}}},Et=function(){if(X){var e=X.length;if(0!==e)if(Le(Qe,X[0]),Je.x=Qe.x-$e.x,Je.y=Qe.y-$e.y,J&&e>1){if($e.x=Qe.x,$e.y=Qe.y,!Je.x&&!Je.y&&function(e,t){return e.x===t.x&&e.y===t.y}(X[1],Xe))return;Le(Xe,X[1]),V||(V=!0,Se("zoomGestureStarted"));var t=dt(Qe,Xe),n=Lt(t);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(se=!0);var i=1,o=Re(),s=Pe();if(n<o)if(a.pinchToClose&&!se&&v<=r.currItem.initialZoomLevel){var l=1-(o-n)/(o/1.2);Te(l),Se("onPinchClose",l),re=!0}else(i=(o-n)/o)>1&&(i=1),n=o-i*(o/3);else n>s&&((i=(n-s)/(6*o))>1&&(i=1),n=s+i*o);i<0&&(i=0),t,wt(Qe,Xe,at),ce.x+=at.x-ut.x,ce.y+=at.y-ut.y,Le(ut,at),de.x=Oe("x",n),de.y=Oe("y",n),j=n>g,g=n,Ee()}else{if(!ie)return;if(oe&&(oe=!1,Math.abs(Je.x)>=10&&(Je.x-=X[0].x-et.x),Math.abs(Je.y)>=10&&(Je.y-=X[0].y-et.y)),$e.x=Qe.x,$e.y=Qe.y,0===Je.x&&0===Je.y)return;if("v"===ie&&a.closeOnVerticalDrag&&"fit"===a.scaleMode&&g===r.currItem.initialZoomLevel){ce.y+=Je.y,de.y+=Je.y;var c=_t();return q=!0,Se("onVerticalDrag",c),Te(c),void Ee()}!function(e,t,n){if(e-B>50){var i=it.length>2?it.shift():{};i.x=t,i.y=n,it.push(i),B=e}}(Ie(),Qe.x,Qe.y),Y=!0,ee=r.currItem.bounds,It("x",Je)||(It("y",Je),Ae(de),Ee())}}},kt=function(e){if(P.isOldAndroid){if(U&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(U),U=setTimeout((function(){U=0}),600))}var t;if(Se("pointerUp"),gt(e,!1)&&e.preventDefault(),M){var n=o.arraySearch(tt,e.pointerId,"id");if(n>-1)if(t=tt.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var i,a=St(e),s=a.length;if("mouseup"===e.type&&(s=0),2===s)return X=null,!0;1===s&&Le(et,a[0]),0!==s||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Se("touchRelease",e,t));var l=-1;if(0===s&&(Z=!1,o.unbind(window,m,r),ft(),J?l=0:-1!==st&&(l=Ie()-st)),st=1===s?Ie():-1,i=-1!==l&&l<150?"zoom":"swipe",J&&s<2&&(J=!1,1===s&&(i="zoomPointerUp"),Se("zoomGestureEnded")),X=null,Y||V||ne||q)if(Ve(),W||(W=Ft()),W.calculateSwipeSpeed("x"),q){if(_t()<.6)r.close();else{var c=de.y,u=ae;Ye("verticalDrag",0,1,300,o.easing.cubic.out,(function(e){de.y=(r.currItem.initialPosition.y-c)*e+c,Te((1-u)*e+u),Ee()})),Se("onVerticalDrag",1)}}else{if((Q||ne)&&0===s){if(Ot(i,W))return;i="zoomPointerUp"}ne||("swipe"===i?!Q&&g>r.currItem.fitRatio&&Mt(W):At())}},Ft=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){it.length>1?(e=Ie()-B+50,t=it[it.length-2][i]):(e=Ie()-H,t=et[i]),n.lastFlickOffset[i]=$e[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(de[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:de[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,Ye("bounceZoomPan"+e,de[e],n.backAnimDestination[e],t||300,o.easing.sine.out,(function(t){de[e]=t,Ee()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,de[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(qe.zoomPan&&(qe.zoomPan.raf=L(n.panAnimLoop),n.now=Ie(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),Ee(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return de.x=Math.round(de.x),de.y=Math.round(de.y),Ee(),void Ze("zoomPan")}};return n},Mt=function(e){if(e.calculateSwipeSpeed("y"),ee=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ke("zoomPan"),e.lastNow=Ie(),e.panAnimLoop()},Ot=function(e,t){var n,i,s;if(ne||(rt=u),"swipe"===e){var l=$e.x-et.x,c=t.lastFlickDist.x<10;l>30&&(c||t.lastFlickOffset.x>20)?i=-1:l<-30&&(c||t.lastFlickOffset.x<-20)&&(i=1)}i&&((u+=i)<0?(u=a.loop?Ht()-1:0,s=!0):u>=Ht()&&(u=a.loop?0:Ht()-1,s=!0),s&&!a.loop||(pe+=i,me-=i,n=!0));var d,f=he.x*me,m=Math.abs(f-lt.x);return n||f>lt.x==t.lastFlickSpeed.x>0?(d=Math.abs(t.lastFlickSpeed.x)>0?m/Math.abs(t.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,rt===u&&(n=!1),ne=!0,Se("mainScrollAnimStart"),Ye("mainScroll",lt.x,f,d,o.easing.cubic.out,Me,(function(){Ve(),ne=!1,rt=-1,(n||rt!==u)&&r.updateCurrItem(),Se("mainScrollAnimComplete")})),n&&r.updateCurrItem(!0),n},Lt=function(e){return 1/$*e*v},At=function(){var e=g,t=Re(),n=Pe();g<t?e=t:g>n&&(e=n);var i,a=ae;return re&&!j&&!se&&g<t?(r.close(),!0):(re&&(i=function(e){Te((1-a)*e+a)}),r.zoomTo(e,0,300,o.easing.cubic.out,i),!0)};_e("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){T=e+t,C=e+n,E=e+i,k=o?e+o:""};(M=P.pointerEvent)&&P.touch&&(P.touch=!1),M?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):P.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),m=C+" "+E+" "+k,h=T,M&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=O,p[T]=Tt,p[C]=Ct,p[E]=kt,k&&(p[k]=p[E]),P.touch&&(h+=" mousedown",m+=" mousemove mouseup",p.mousedown=p[T],p.mousemove=p[C],p.mouseup=p[E]),O||(a.allowPanToNext=!1)}}});var zt,Dt,Nt,Rt,Pt,Ht,Bt=function(t,n,i,s){var l;zt&&clearTimeout(zt),Rt=!0,Nt=!0,t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(u);var d=i?a.hideAnimationDuration:a.showAnimationDuration,f=function(){Ze("initialZoom"),i?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(Te(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Se("initialZoom"+(i?"OutEnd":"InEnd"))),s&&s(),Rt=!1};if(!d||!l||void 0===l.x){return Se("initialZoom"+(i?"Out":"In")),g=t.initialZoomLevel,Le(de,t.initialPosition),Ee(),e.style.opacity=i?0:1,Te(1),void f()}var m,h;m=c,h=!r.currItem.src||r.currItem.loadError||a.showHideOpacity,t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(g=l.w/t.w,de.x=l.x,de.y=l.y-D,r[h?"template":"bg"].style.opacity=.001,Ee()),Ke("initialZoom"),i&&!m&&o.removeClass(e,"pswp--animated-in"),h&&(i?o[(m?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){o.addClass(e,"pswp--animate_opacity")}),30)),zt=setTimeout((function(){if(Se("initialZoom"+(i?"Out":"In")),i){var n=l.w/t.w,r={x:de.x,y:de.y},a=g,s=ae,c=function(t){1===t?(g=n,de.x=l.x,de.y=l.y-R):(g=(n-a)*t+a,de.x=(l.x-r.x)*t+r.x,de.y=(l.y-R-r.y)*t+r.y),Ee(),h?e.style.opacity=1-t:Te(s-t*s)};m?Ye("initialZoom",0,1,d,o.easing.cubic.out,c,f):(c(1),zt=setTimeout(f,d+20))}else g=t.initialZoomLevel,Le(de,t.initialPosition),Ee(),Te(1),h?e.style.opacity=1:Te(1),zt=setTimeout(f,d+20)}),i?25:90)},Wt={},jt=[],qt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Dt.length}},Ut=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Se("parseVerticalMargin",e)),Wt.x=t.x,Wt.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=Wt.x/e.w,r=Wt.y/e.h;e.fitRatio=o<r?o:r;var s=a.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!n)return;return function(e,t,n){var i=e.bounds;i.center.x=Math.round((Wt.x-t)/2),i.center.y=Math.round((Wt.y-n)/2)+e.vGap.top,i.max.x=t>Wt.x?Math.round(Wt.x-t):i.center.x,i.max.y=n>Wt.y?Math.round(Wt.y-n)+e.vGap.top:i.center.y,i.min.x=t>Wt.x?0:i.center.x,i.min.y=n>Wt.y?e.vGap.top:i.center.y}(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds},Zt=function(e,t,n,i,o,s){if(!t.loadError){var l,c=r.isDragging()&&!r.isZooming(),d=e===u||r.isMainScrollAnimating()||c;!o&&(O||a.alwaysFadeIn)&&d&&(l=!0),i&&(l&&(i.style.opacity=0),t.imageAppended=!0,Yt(i,t.w,t.h),n.appendChild(i),l&&setTimeout((function(){i.style.opacity=1,s&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500)}),50))}},Kt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Vt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},Yt=function(e,t,n){e.style.width=t+"px",e.style.height=n+"px"},Gt=function(){if(jt.length){for(var e,t=0;t<jt.length;t++)(e=jt[t]).holder.index===e.index&&Zt(e.index,e.item,e.baseDiv,e.img);jt=[]}};_e("Controller",{publicMethods:{lazyLoadItem:function(e){e=ye(e);var t=Pt(e);!t||t.loaded||t.loading||(Se("gettingData",e,t),t.src&&Kt(t))},initController:function(){o.extend(a,qt,!0),r.items=Dt=n,Pt=r.getItemAt,Ht=a.getNumItemsFn,a.loop,Ht()<3&&(a.loop=!1),xe("beforeChange",(function(e){var t,n=a.preload,i=null===e||e>0,o=Math.min(n[0],Ht()),s=Math.min(n[1],Ht());for(t=1;t<=(i?s:o);t++)r.lazyLoadItem(u+t);for(t=1;t<=(i?o:s);t++)r.lazyLoadItem(u-t)})),xe("initialLayout",(function(){r.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(u)})),xe("mainScrollAnimComplete",Gt),xe("initialZoomInEnd",Gt),xe("destroy",(function(){for(var e,t=0;t<Dt.length;t++)(e=Dt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);jt=null}))},getItemAt:function(e){return e>=0&&(void 0!==Dt[e]&&Dt[e])},allowProgressiveImg:function(){return a.forceProgressiveLoading||!O||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=ye(t));var n=r.getItemAt(e.index);n&&(n.container=null);var i,l=r.getItemAt(t);if(l){Se("gettingData",t,l),e.index=t,e.item=l;var c=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),Vt(l),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((i=o.createEl("pswp__img","img")).style.webkitBackfaceVisibility="hidden",i.style.opacity=1,i.src=l.src,Yt(i,l.w,l.h),Zt(t,l,c,i,!0));else{if(l.loadComplete=function(n){if(s){if(n.img&&(n.img.style.webkitBackfaceVisibility="hidden"),e&&e.index===t){if(Vt(n,!0))return n.loadComplete=n.img=null,Ut(n,fe),ke(n),void(e.index===u&&r.updateCurrZoomItem());n.imageAppended?!Rt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):P.transform&&(ne||Rt)?jt.push({item:n,baseDiv:c,img:n.img,index:t,holder:e}):Zt(t,n,c,n.img,ne||Rt)}n.loadComplete=null,n.img=null,Se("imageLoadComplete",t,n)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=l.msrc?"":" pswp__img--placeholder--blank";var f=o.createEl(d,l.msrc?"img":"");l.msrc&&(f.src=l.msrc),Yt(f,l.w,l.h),c.appendChild(f),l.placeholder=f}l.loading||Kt(l),r.allowProgressiveImg()&&(!Nt&&P.transform?jt.push({item:l,baseDiv:c,img:l.img,index:t,holder:e}):Zt(t,l,c,l.img,!0,!0))}Ut(l,fe),Nt||t!==u?ke(l):(te=c.style,Bt(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(c)}else e.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Qt,Xt,Jt={},$t=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};_e("Tap",{publicMethods:{initTap:function(){xe("firstTouchStart",r.onTapStart),xe("touchRelease",r.onTapRelease),xe("destroy",(function(){Jt={},Qt=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(Qt),Qt=null)},onTapRelease:function(e,t){var n,i;if(t&&(!Y&&!K&&!Ue)){var r=t;if(Qt&&(clearTimeout(Qt),Qt=null,n=r,i=Jt,Math.abs(n.x-i.x)<25&&Math.abs(n.y-i.y)<25))return void Se("doubleTap",r);if("mouse"===t.type)return void $t(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void $t(e,t);Le(Jt,r),Qt=setTimeout((function(){$t(e,t),Qt=null}),300)}}}}),_e("DesktopZoom",{publicMethods:{initDesktopZoom:function(){N||(O?xe("mouseUsed",(function(){r.setupDesktopZoom()})):r.setupDesktopZoom(!0))},setupDesktopZoom:function(t){Xt={};var n="wheel mousewheel DOMMouseScroll";xe("bindEvents",(function(){o.bind(e,n,r.handleMouseWheel)})),xe("unbindEvents",(function(){Xt&&o.unbind(e,n,r.handleMouseWheel)})),r.mouseZoomedIn=!1;var i,a=function(){r.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),r.mouseZoomedIn=!1),g<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};xe("resize",a),xe("afterChange",a),xe("pointerDown",(function(){r.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))})),xe("pointerUp",s),t||a()},handleMouseWheel:function(e){if(g<=r.currItem.fitRatio)return a.closeOnScroll?F&&Math.abs(e.deltaY)>2&&(c=!0,r.close()):e.preventDefault(),!0;if(e.preventDefault(),e.stopPropagation(),Xt.x=0,"deltaX"in e)1===e.deltaMode?(Xt.x=18*e.deltaX,Xt.y=18*e.deltaY):(Xt.x=e.deltaX,Xt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Xt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Xt.y=-.16*e.wheelDeltaY:Xt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Xt.y=e.detail}Ne(g,!0),r.panTo(de.x-Xt.x,de.y-Xt.y)},toggleDesktopZoom:function(t){t=t||{x:fe.x/2,y:fe.y/2+R};var n=a.getDoubleTapZoom(!0,r.currItem),i=g===n;r.mouseZoomedIn=!i,r.zoomTo(i?r.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var en,tn,nn,on,rn,an,sn,ln,cn,un,dn,fn,mn={history:!0,galleryUID:1},hn=function(){return dn.hash.substring(1)},pn=function(){en&&clearTimeout(en),nn&&clearTimeout(nn)},gn=function(){var e=hn(),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}return t.pid=parseInt(t.pid,10)-1,t.pid<0&&(t.pid=0),t},vn=function(){if(nn&&clearTimeout(nn),Ue||Z)nn=setTimeout(vn,500);else{on?clearTimeout(tn):on=!0;var e=sn+"&gid="+a.galleryUID+"&pid="+(u+1);ln||-1===dn.hash.indexOf(e)&&(un=!0);var t=dn.href.split("#")[0]+"#"+e;fn?"#"+e!==window.location.hash&&history[ln?"replaceState":"pushState"]("",document.title,t):ln?dn.replace(t):dn.hash=e,ln=!0,tn=setTimeout((function(){on=!1}),60)}};_e("History",{publicMethods:{initHistory:function(){if(o.extend(a,mn,!0),a.history){dn=window.location,un=!1,cn=!1,ln=!1,sn=hn(),fn="pushState"in history,sn.indexOf("gid=")>-1&&(sn=(sn=sn.split("&gid=")[0]).split("?gid=")[0]),xe("afterChange",r.updateURL),xe("unbindEvents",(function(){o.unbind(window,"hashchange",r.onHashChange)}));var e=function(){an=!0,cn||(un?history.back():sn?dn.hash=sn:fn?history.pushState("",document.title,dn.pathname+dn.search):dn.hash=""),pn()};xe("unbindEvents",(function(){c&&e()})),xe("destroy",(function(){an||e()})),xe("firstUpdate",(function(){u=gn().pid}));var t=sn.indexOf("pid=");t>-1&&"&"===(sn=sn.substring(0,t)).slice(-1)&&(sn=sn.slice(0,-1)),setTimeout((function(){s&&o.bind(window,"hashchange",r.onHashChange)}),40)}},onHashChange:function(){if(hn()===sn)return cn=!0,void r.close();on||(rn=!0,r.goTo(gn().pid),rn=!1)},updateURL:function(){pn(),rn||(ln?en=setTimeout(vn,800):vn())}}}),o.extend(r,Ge)}})),
/*! PhotoSwipe Default UI - 4.0.7 - 2015-03-18
	 * http://photoswipe.com
	 * Copyright (c) 2015 Dmitry Semenov; */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,(function(){"use strict";return function(e,t){var n,i,o,r,a,s,l,c,u,d,f,m,h,p,g,v,w,_,y=this,b=!1,x=!0,S=!0,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / "},T=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&z();for(var n,i,o=(e.target||e.srcElement).className,r=0;r<P.length;r++)(n=P[r]).onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),v=!0;var a=t.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),a)}},C=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},E=function(){var e=1===g.getNumItemsFn();e!==p&&(C(i,"ui--one-slide",e),p=e)},k=function(){C(l,"share-modal--hidden",S)},F=function(){return(S=!S)?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){S&&k()}),300)):(k(),setTimeout((function(){S||t.addClass(l,"pswp__share-modal--fade-in")}),30)),S||O(),!1},M=function(t){var n=(t=t||window.event).target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||F(),!1))},O=function(){for(var e,t,n,i,o="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),i=g.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(o=g.parseShareButtonOut(e,o));l.children[0].innerHTML=o,l.children[0].onclick=M},L=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},A=0,z=function(){clearTimeout(_),A=0,u&&y.setIdle(!1)},D=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(_),_=setTimeout((function(){y.setIdle(!0)}),g.timeToIdleOutside))},N=function(e){m!==e&&(C(f,"preloader--active",!e),m=e)},R=function(n){var a=n.vGap;if(!e.likelyTouchDevice||g.mouseUsed||screen.width>1200){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(r||((r=t.createEl("pswp__caption pswp__caption--fake")).appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),g.addCaptionHTMLFn(n,r,!0)){var l=r.clientHeight;a.bottom=parseInt(l,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},P=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}];y.init=function(){var a;t.extend(e.options,I,!0),g=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),(d=e.listen)("onVerticalDrag",(function(e){x&&e<.95?y.hideControls():!x&&e>=.95&&y.showControls()})),d("onPinchClose",(function(e){x&&e<.9?(y.hideControls(),a=!0):a&&!x&&e>.9&&y.showControls()})),d("zoomGestureEnded",(function(){(a=!1)&&!x&&y.showControls()})),d("beforeChange",y.update),d("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)})),d("preventDragEvent",(function(e,t,n){var i=e.target||e.srcElement;i&&i.className&&e.type.indexOf("mouse")>-1&&(i.className.indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)})),d("bindEvents",(function(){t.bind(i,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",y.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",y.onMouseOver)})),d("unbindEvents",(function(){S||F(),w&&clearInterval(w),t.unbind(document,"mouseout",D),t.unbind(document,"mousemove",z),t.unbind(i,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",y.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",y.onMouseOver),n&&(t.unbind(document,n.eventK,y.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)})),d("destroy",(function(){g.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),y.setIdle(!1)})),g.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",(function(){g.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")})),d("initialZoomOut",(function(){t.addClass(i,"pswp__ui--hidden")})),d("parseVerticalMargin",R),function(){var e,n,o,r=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var s=0;s<P.length;s++)o=P[s],n.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&r(a.children)}(),g.shareEl&&s&&l&&(S=!0),E(),g.timeToIdle&&d("mouseUsed",(function(){t.bind(document,"mousemove",z),t.bind(document,"mouseout",D),w=setInterval((function(){2==++A&&y.setIdle(!0)}),g.timeToIdle/2)})),g.fullscreenEl&&(n||(n=y.getFullscreenAPI()),n?(t.bind(document,n.eventK,y.updateFullscreen),y.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs")),g.preloaderEl&&(N(!0),d("beforeChange",(function(){clearTimeout(h),h=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&N(!1):N(!0)}),g.loadingIndicatorDelay)})),d("imageLoadComplete",(function(t,n){e.currItem===n&&N(!0)})))},y.setIdle=function(e){u=e,C(i,"ui--idle",e)},y.update=function(){x&&e.currItem?(y.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),C(o,"caption--empty",!e.currItem.title)),b=!0):b=!1,S||F(),E()},y.updateFullscreen=function(i){i&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},y.updateIndexIndicator=function(){g.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},y.onGlobalTap=function(n){var i=(n=n||window.event).target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(L(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?y.hideControls():y.showControls()),g.tapToClose&&(t.hasClass(i,"pswp__img")||L(i)))return void e.close()},y.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;C(i,"ui--over-close",L(t))},y.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),x=!1},y.showControls=function(){x=!0,b||y.update(),t.removeClass(i,"pswp__ui--hidden")},y.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},y.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}));